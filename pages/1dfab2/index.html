<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ERP EJB Interfaces | aiM18 Developer Center</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="Learning in ERP EJB Interfaces for ERP system. Browse reference, sample code, tutorials, and more.(aiM18)">
    <meta name="keywords" content="ERP EJB Interfaces, ERP, ERP software, ERP system, ERP solution">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.874a5d55.css" as="style"><link rel="preload" href="/assets/js/app.c0adcb3b.js" as="script"><link rel="preload" href="/assets/js/2.60d4b592.js" as="script"><link rel="preload" href="/assets/js/13.78746d91.js" as="script"><link rel="prefetch" href="/assets/js/10.4ef70614.js"><link rel="prefetch" href="/assets/js/11.40b4f1d8.js"><link rel="prefetch" href="/assets/js/12.ac2408a4.js"><link rel="prefetch" href="/assets/js/14.b121ec7d.js"><link rel="prefetch" href="/assets/js/15.f65e9e65.js"><link rel="prefetch" href="/assets/js/16.3ab989a0.js"><link rel="prefetch" href="/assets/js/17.5e94362b.js"><link rel="prefetch" href="/assets/js/18.fe32a64f.js"><link rel="prefetch" href="/assets/js/19.d065cb74.js"><link rel="prefetch" href="/assets/js/20.4a82ad20.js"><link rel="prefetch" href="/assets/js/21.48c0a2b3.js"><link rel="prefetch" href="/assets/js/22.234dfe15.js"><link rel="prefetch" href="/assets/js/23.e79ad5ff.js"><link rel="prefetch" href="/assets/js/24.f745f458.js"><link rel="prefetch" href="/assets/js/25.97fcbc87.js"><link rel="prefetch" href="/assets/js/26.24d877e6.js"><link rel="prefetch" href="/assets/js/27.b23fd5d3.js"><link rel="prefetch" href="/assets/js/28.3823617e.js"><link rel="prefetch" href="/assets/js/29.1f676df9.js"><link rel="prefetch" href="/assets/js/3.4f3f893b.js"><link rel="prefetch" href="/assets/js/30.41e05b55.js"><link rel="prefetch" href="/assets/js/31.bda13ed0.js"><link rel="prefetch" href="/assets/js/32.70d14c00.js"><link rel="prefetch" href="/assets/js/33.bc949a04.js"><link rel="prefetch" href="/assets/js/34.46a488fa.js"><link rel="prefetch" href="/assets/js/35.90d111e7.js"><link rel="prefetch" href="/assets/js/36.0ebff776.js"><link rel="prefetch" href="/assets/js/37.0f1a1f00.js"><link rel="prefetch" href="/assets/js/38.575482fe.js"><link rel="prefetch" href="/assets/js/39.9e1e1782.js"><link rel="prefetch" href="/assets/js/4.1ecbfdf7.js"><link rel="prefetch" href="/assets/js/40.335439ea.js"><link rel="prefetch" href="/assets/js/41.d3107211.js"><link rel="prefetch" href="/assets/js/42.7f8d1f29.js"><link rel="prefetch" href="/assets/js/43.c95443c4.js"><link rel="prefetch" href="/assets/js/44.2888a38c.js"><link rel="prefetch" href="/assets/js/45.62145119.js"><link rel="prefetch" href="/assets/js/46.13a9ca18.js"><link rel="prefetch" href="/assets/js/47.219482dc.js"><link rel="prefetch" href="/assets/js/48.1766b41a.js"><link rel="prefetch" href="/assets/js/49.f4ca78f8.js"><link rel="prefetch" href="/assets/js/5.b935706f.js"><link rel="prefetch" href="/assets/js/50.5e3c9136.js"><link rel="prefetch" href="/assets/js/51.4dc87bd1.js"><link rel="prefetch" href="/assets/js/52.171a10b3.js"><link rel="prefetch" href="/assets/js/53.7b30d375.js"><link rel="prefetch" href="/assets/js/54.81656afe.js"><link rel="prefetch" href="/assets/js/55.cca9b1cb.js"><link rel="prefetch" href="/assets/js/56.ded236a0.js"><link rel="prefetch" href="/assets/js/57.656ea847.js"><link rel="prefetch" href="/assets/js/58.ecbcd953.js"><link rel="prefetch" href="/assets/js/59.8b7f3b57.js"><link rel="prefetch" href="/assets/js/6.7349ea2a.js"><link rel="prefetch" href="/assets/js/60.b3cbf58b.js"><link rel="prefetch" href="/assets/js/61.fba74806.js"><link rel="prefetch" href="/assets/js/62.822dfced.js"><link rel="prefetch" href="/assets/js/63.c394134c.js"><link rel="prefetch" href="/assets/js/64.3087dd35.js"><link rel="prefetch" href="/assets/js/65.2172a35d.js"><link rel="prefetch" href="/assets/js/66.f65e2587.js"><link rel="prefetch" href="/assets/js/67.6fa7a948.js"><link rel="prefetch" href="/assets/js/68.c84d2832.js"><link rel="prefetch" href="/assets/js/69.7ff4b4b6.js"><link rel="prefetch" href="/assets/js/7.280afd54.js"><link rel="prefetch" href="/assets/js/70.48fbb717.js"><link rel="prefetch" href="/assets/js/71.393a4b0e.js"><link rel="prefetch" href="/assets/js/72.7f80169b.js"><link rel="prefetch" href="/assets/js/73.df820547.js"><link rel="prefetch" href="/assets/js/74.bb6d3d21.js"><link rel="prefetch" href="/assets/js/75.bca88166.js"><link rel="prefetch" href="/assets/js/76.f135c37a.js"><link rel="prefetch" href="/assets/js/77.443a00a7.js"><link rel="prefetch" href="/assets/js/78.e725d8f9.js"><link rel="prefetch" href="/assets/js/79.0a19d110.js"><link rel="prefetch" href="/assets/js/8.ec111418.js"><link rel="prefetch" href="/assets/js/9.f644efa6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.874a5d55.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logonav.png" alt="aiM18 Developer Center" class="logo"> <span class="site-name can-hide">aiM18 Developer Center</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">DOC Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="App Development" class="dropdown-title"><a href="/pages/7488ac/" class="link-title">App Development</a> <span class="title" style="display:none;">App Development</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7488ac/" class="nav-link">Overview</a></li><li class="dropdown-subitem"><a href="/pages/793dcd/" class="nav-link">Frontend Framework</a></li><li class="dropdown-subitem"><a href="/pages/793dce/" class="nav-link">Backend Framework</a></li><li class="dropdown-subitem"><a href="/pages/793dcf/" class="nav-link">EBI Development</a></li><li class="dropdown-subitem"><a href="/pages/793dcg/" class="nav-link">JSF Components</a></li><li class="dropdown-subitem"><a href="/pages/793dch/" class="nav-link">BPM Extension Interface</a></li><li class="dropdown-subitem"><a href="/pages/793dci/" class="nav-link">Telescope Extension Interface</a></li><li class="dropdown-subitem"><a href="/pages/793dcj/" class="nav-link">Mobile App Setup</a></li></ul></li><li class="dropdown-item"><h4>ERP</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1dfab2/" aria-current="page" class="nav-link router-link-exact-active router-link-active">ERP EJB Interfaces</a></li><li class="dropdown-subitem"><a href="/pages/1dfab3/" class="nav-link">ERP XML Config Files</a></li><li class="dropdown-subitem"><a href="/pages/1dfab4/" class="nav-link">ERP Decorators (Frontend Interfaces)</a></li></ul></li><li class="dropdown-item"><h4>Tutorial</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/793dcc/" class="nav-link">Setup Development Environment</a></li><li class="dropdown-subitem"><a href="/pages/d922fb/" class="nav-link">Sample App</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API Integration" class="dropdown-title"><a href="/pages/2ffa7b/" class="link-title">API Integration</a> <span class="title" style="display:none;">API Integration</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/2ffa7b/" class="nav-link">Authentication</a></li><li class="dropdown-subitem"><a href="/pages/c42005/" class="nav-link">Common JSON Objects</a></li><li class="dropdown-subitem"><a href="/pages/c79a4a/" class="nav-link">Core Services</a></li><li class="dropdown-subitem"><a href="/pages/dcf49b/" class="nav-link">EBI Services</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/b24673/" class="nav-link">Enterprise Resource Planning</a></li><li class="dropdown-item"><!----> <a href="/pages/fe122f/" class="nav-link">Human Capital Management</a></li><li class="dropdown-item"><!----> <a href="/pages/d34faf/" class="nav-link">Business Process Management</a></li><li class="dropdown-item"><!----> <a href="/pages/48360c/" class="nav-link">Schedule Management</a></li><li class="dropdown-item"><!----> <a href="/pages/c06ace/" class="nav-link">Document Management</a></li><li class="dropdown-item"><h4>Tutorial</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7537af/" class="nav-link">Interacting with aiM18 via webservices</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/pages/7487bc/" class="nav-link">Tutorial</a></div> <a href="https://github.com/m18ce01?tab=repositories" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">DOC Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="App Development" class="dropdown-title"><a href="/pages/7488ac/" class="link-title">App Development</a> <span class="title" style="display:none;">App Development</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7488ac/" class="nav-link">Overview</a></li><li class="dropdown-subitem"><a href="/pages/793dcd/" class="nav-link">Frontend Framework</a></li><li class="dropdown-subitem"><a href="/pages/793dce/" class="nav-link">Backend Framework</a></li><li class="dropdown-subitem"><a href="/pages/793dcf/" class="nav-link">EBI Development</a></li><li class="dropdown-subitem"><a href="/pages/793dcg/" class="nav-link">JSF Components</a></li><li class="dropdown-subitem"><a href="/pages/793dch/" class="nav-link">BPM Extension Interface</a></li><li class="dropdown-subitem"><a href="/pages/793dci/" class="nav-link">Telescope Extension Interface</a></li><li class="dropdown-subitem"><a href="/pages/793dcj/" class="nav-link">Mobile App Setup</a></li></ul></li><li class="dropdown-item"><h4>ERP</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1dfab2/" aria-current="page" class="nav-link router-link-exact-active router-link-active">ERP EJB Interfaces</a></li><li class="dropdown-subitem"><a href="/pages/1dfab3/" class="nav-link">ERP XML Config Files</a></li><li class="dropdown-subitem"><a href="/pages/1dfab4/" class="nav-link">ERP Decorators (Frontend Interfaces)</a></li></ul></li><li class="dropdown-item"><h4>Tutorial</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/793dcc/" class="nav-link">Setup Development Environment</a></li><li class="dropdown-subitem"><a href="/pages/d922fb/" class="nav-link">Sample App</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API Integration" class="dropdown-title"><a href="/pages/2ffa7b/" class="link-title">API Integration</a> <span class="title" style="display:none;">API Integration</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/2ffa7b/" class="nav-link">Authentication</a></li><li class="dropdown-subitem"><a href="/pages/c42005/" class="nav-link">Common JSON Objects</a></li><li class="dropdown-subitem"><a href="/pages/c79a4a/" class="nav-link">Core Services</a></li><li class="dropdown-subitem"><a href="/pages/dcf49b/" class="nav-link">EBI Services</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/b24673/" class="nav-link">Enterprise Resource Planning</a></li><li class="dropdown-item"><!----> <a href="/pages/fe122f/" class="nav-link">Human Capital Management</a></li><li class="dropdown-item"><!----> <a href="/pages/d34faf/" class="nav-link">Business Process Management</a></li><li class="dropdown-item"><!----> <a href="/pages/48360c/" class="nav-link">Schedule Management</a></li><li class="dropdown-item"><!----> <a href="/pages/c06ace/" class="nav-link">Document Management</a></li><li class="dropdown-item"><h4>Tutorial</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7537af/" class="nav-link">Interacting with aiM18 via webservices</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/pages/7487bc/" class="nav-link">Tutorial</a></div> <a href="https://github.com/m18ce01?tab=repositories" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>platform</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/7488ac/" class="sidebar-link">Overview</a></li><li><a href="/pages/793dcd/" class="sidebar-link">Frontend Framework</a></li><li><a href="/pages/793dce/" class="sidebar-link">Backend Framework</a></li><li><a href="/pages/793dcf/" class="sidebar-link">EBI Development</a></li><li><a href="/pages/793dcg/" class="sidebar-link">JSF Components</a></li><li><a href="/pages/793dch/" class="sidebar-link">BPM Extension Interface</a></li><li><a href="/pages/793dci/" class="sidebar-link">Telescope Extension Interface</a></li><li><a href="/pages/793dcj/" class="sidebar-link">Mobile App Setup</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>erp</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/1dfab2/" aria-current="page" class="active sidebar-link">ERP EJB Interfaces</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#massmailhandler" class="sidebar-link">MassMailHandler</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-handleemail" class="sidebar-link">Function handleEmail</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-sendemail" class="sidebar-link">Function sendEmail</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#updatefrozendate" class="sidebar-link">UpdateFrozenDate</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-2" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-beforeupdatefrozen" class="sidebar-link">Function beforeUpdateFrozen</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-afterupdatefrozen" class="sidebar-link">Function afterUpdateFrozen</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#erpserverinitialized" class="sidebar-link">ErpServerInitialized</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-3" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-contextinitialized" class="sidebar-link">Function contextInitialized</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-afterinitialized" class="sidebar-link">Function afterInitialized</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#generaterecord" class="sidebar-link">GenerateRecord</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-4" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-beforesaverecord" class="sidebar-link">Function beforeSaveRecord</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#specbsruleitem" class="sidebar-link">SpecBsRuleItem</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-5" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-getspecbsruleitem" class="sidebar-link">Function getSpecBsRuleItem</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#asavechkhandler" class="sidebar-link">ASaveChkHandler</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-6" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-getasavechksql" class="sidebar-link">Function getASaveChkSql</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#generatedejblot" class="sidebar-link">GeneratedEJBLot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-7" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-originaccept" class="sidebar-link">Function originAccept</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-generate" class="sidebar-link">Function generate</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#generatedjsflot" class="sidebar-link">GeneratedJSFLot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-8" class="sidebar-link">Purpose</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#loadtradefooter" class="sidebar-link">LoadTradeFooter</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-9" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-getmultipropricedesc" class="sidebar-link">Function getMultiProPriceDesc</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-assign-footer-updesc" class="sidebar-link">Function assignfooterupdesc</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#assignlotnohelper" class="sidebar-link">AssignLotnoHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-10" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-isaccept" class="sidebar-link">Function isAccept</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-getassignlotno" class="sidebar-link">Function getAssignLotno</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-sortstock" class="sidebar-link">Function sortStock</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-isstockfit" class="sidebar-link">Function isStockFit</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#imaccalchandler" class="sidebar-link">IMacCalcHandler</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-11" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-getorder" class="sidebar-link">Function getOrder</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-efe-mainfooter-up" class="sidebar-link">Function efemainfooterup</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-calc-invamt" class="sidebar-link">Function calc_invamt</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-getinchargeqtyfield" class="sidebar-link">Function getInChargeQtyField</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-getfooterupfield" class="sidebar-link">Function getFooterUpField</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-getfooterucfield" class="sidebar-link">Function getFooterUcField</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#updateprocost" class="sidebar-link">UpdateProCost</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-12" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#detailed-description" class="sidebar-link">Detailed Description</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#loadbomdatasourcehelper" class="sidebar-link">LoadBomDataSourceHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-13" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-updatebomdatasourcedata" class="sidebar-link">Function updateBomDataSourceData</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#modulesettinghelper" class="sidebar-link">ModuleSettingHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-14" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-checkinventorymodule" class="sidebar-link">Function checkInventoryModule</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-getstkmodule" class="sidebar-link">Function getStkModule</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#generatevoucher" class="sidebar-link">GenerateVoucher</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-15" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-getudforder" class="sidebar-link">Function getUDFOrder</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-generateudfvoucher" class="sidebar-link">Function GenerateUDFVoucher</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-beforegeneratevoucher" class="sidebar-link">Function beforeGenerateVoucher</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-beforegent" class="sidebar-link">Function beforeGenT</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-aftergeneratevoucher" class="sidebar-link">Function afterGenerateVoucher</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-aftergenerateinstancevoucher" class="sidebar-link">Function afterGenerateInstanceVoucher</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-aftergeneratemodulevoucher" class="sidebar-link">Function afterGenerateModuleVoucher</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-aftergeneratetranvoucher" class="sidebar-link">Function afterGenerateTranVoucher</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-afterbatchrevertvoucher" class="sidebar-link">Function afterBatchRevertVoucher</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#prqallocate" class="sidebar-link">PrqAllocate</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-16" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-supply-demand" class="sidebar-link">Function supply_demand</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#loadlocktranhelper" class="sidebar-link">LoadLockTranHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-17" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-addloadlocktrancond" class="sidebar-link">Function addLoadLockTranCond</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#tradingsettinghelper" class="sidebar-link">TradingSettingHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-18" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-getlasttrantablename" class="sidebar-link">Function getLastTranTableName</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-addtradingsettingdata" class="sidebar-link">Function addTradingSettingData</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#ecnhelper" class="sidebar-link">EcnHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-19" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-ecnchangeprocessextradata" class="sidebar-link">Function ecnChangeProcessExtraData</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-ecnchangematextradata" class="sidebar-link">Function ecnChangeMatExtraData</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#depositdatahelper" class="sidebar-link">DepositDataHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-20" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-appendardepositreceipt" class="sidebar-link">Function  appendArDepositReceipt</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#example" class="sidebar-link">Example</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-appendapdepositreceipt" class="sidebar-link">Function  appendApDepositReceipt</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#example-2" class="sidebar-link">Example</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-appendarosdeposit" class="sidebar-link">Function  appendArOsDeposit</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#example-3" class="sidebar-link">Example</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-appendaposdeposit" class="sidebar-link">Function  appendApOsDeposit</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#example-4" class="sidebar-link">Example</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/1dfab2/#financedatahelper" class="sidebar-link">FinanceDataHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#purpose-21" class="sidebar-link">Purpose</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-updatearinvoiceremain" class="sidebar-link">Function  updateArInvoiceRemain</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#example-5" class="sidebar-link">Example</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-updateapinvoiceremain" class="sidebar-link">Function  updateApInvoiceRemain</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#example-6" class="sidebar-link">Example</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-appendarosinvoice" class="sidebar-link">Function  appendArOsInvoice</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#example-7" class="sidebar-link">Example</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#function-appendaposinvoice" class="sidebar-link">Function  appendApOsInvoice</a></li><li class="sidebar-sub-header level3"><a href="/pages/1dfab2/#example-8" class="sidebar-link">Example</a></li></ul></li></ul></li><li><a href="/pages/1dfab3/" class="sidebar-link">ERP XML Config Files</a></li><li><a href="/pages/1dfab4/" class="sidebar-link">ERP Decorators (Frontend Interfaces)</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>tutorial</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/793dcc/" class="sidebar-link">Setup Development Environment</a></li><li><a href="/pages/d922fb/" class="sidebar-link">Sample App</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>App</span></li><li data-v-06225672><span data-v-06225672>erp</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/m18ce01" target="_blank" title="作者" class="beLink" data-v-06225672>Multiable</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2024-01-09</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">ERP EJB Interfaces<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p><code>Version: 1.2 | Release Date: 07/02/2024</code></p> <h2 id="massmailhandler"><a href="#massmailhandler" class="header-anchor">#</a> MassMailHandler</h2> <h3 id="purpose"><a href="#purpose" class="header-anchor">#</a> Purpose</h3> <p>It is used to handle email when sending email by [Mass Email of Documents].</p> <br> <h3 id="function-handleemail"><a href="#function-handleemail" class="header-anchor">#</a> Function handleEmail</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">handleEmail</span><span class="token punctuation">(</span><span class="token class-name">MacEmail</span> email<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> massmail<span class="token punctuation">,</span> <span class="token class-name">CawReport</span> report<span class="token punctuation">,</span> <span class="token class-name">CawReportDataSet</span> dataSet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>It is used to handle email when sending email by [Mass Email of Documents].</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>email</td> <td><code>MacEmail</code></td> <td>The email</td></tr> <tr><td>massmail</td> <td><code>SqlTable</code></td> <td>The main table of [Mass Email of Documents]</td></tr> <tr><td>report</td> <td><code>CawReport</code></td> <td>CawReport</td></tr> <tr><td>dataSet</td> <td><code>CawReportDataSet</code></td> <td>CawReportDataSet</td></tr></tbody></table> <br> <hr> <h3 id="function-sendemail"><a href="#function-sendemail" class="header-anchor">#</a> Function sendEmail</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MacEmail</span><span class="token punctuation">&gt;</span></span> <span class="token function">sendEmail</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> massmail<span class="token punctuation">,</span> <span class="token class-name">CawReport</span> report<span class="token punctuation">,</span> <span class="token class-name">CawReportDataSet</span> dataSet<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fileKey<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fileMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>It is used to get more email address when sending email by [Mass Email of Documents].</p> <p>Eg:  Core App can get the email addresses from cus/ven/staff/cnDept/virDept.</p> <p>Eg:  Ac App can get the email addresses from Debtor/Creditor.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>massmail</td> <td><code>SqlTable</code></td> <td>The main table of [Mass Email of Documents]</td></tr> <tr><td>report</td> <td><code>CawReport</code></td> <td>CawReport</td></tr> <tr><td>dataSet</td> <td><code>CawReportDataSet</code></td> <td>CawReportDataSet</td></tr> <tr><td>fileKey</td> <td><code>Map&lt;Long, String&gt;</code></td> <td>The preview file key-value pairs. <code>key</code> is the transaction id while <code>value</code> is the file name.</td></tr> <tr><td>fileMap</td> <td><code>Map&lt;String, String&gt;</code></td> <td>The preview file path key-value pairs. <code>key</code> is the file name while <code>value</code> is file path.</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>Set&lt;MacEmail&gt;</code></td> <td>Extra email addresses.</td></tr></tbody></table> <br> <br> <h2 id="updatefrozendate"><a href="#updatefrozendate" class="header-anchor">#</a> UpdateFrozenDate</h2> <h3 id="purpose-2"><a href="#purpose-2" class="header-anchor">#</a> Purpose</h3> <p>It is used when developers want to interact with aiM18 when frozen date is ready to update or updated.</p> <br> <h3 id="function-beforeupdatefrozen"><a href="#function-beforeupdatefrozen" class="header-anchor">#</a> Function beforeUpdateFrozen</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">beforeUpdateFrozen</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">Long</span> frozenTypeId<span class="token punctuation">,</span> <span class="token class-name">Date</span> frozenDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger before updating frozen date.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>Long</code></td> <td>The business entity id</td></tr> <tr><td>frozenTypeId</td> <td><code>Long</code></td> <td>The forzen type id</td></tr> <tr><td>frozenDate</td> <td><code>Date</code></td> <td>The frozen date</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>The <code>messCode</code> to describe the error.</td></tr></tbody></table> <p><strong>Example</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">beforeUpdateFrozen</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">Long</span> frozenTypeId<span class="token punctuation">,</span> <span class="token class-name">Date</span> frozenDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SqlTable</span> data <span class="token operator">=</span> <span class="token class-name">MacCheckerUtil</span><span class="token punctuation">.</span><span class="token function">excuteQuery</span><span class="token punctuation">(</span><span class="token string">&quot;frozentype&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; id = &quot;</span> <span class="token operator">+</span> frozenTypeId<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTable</span> beFile <span class="token operator">=</span> <span class="token class-name">MacUtil</span><span class="token punctuation">.</span><span class="token function">getBeGlobalSetting</span><span class="token punctuation">(</span>beId<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>beFile <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> beFile<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>frozenDate<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Date</span><span class="token punctuation">)</span> beFile<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;stkClosed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token string">&quot;ce01_core.frozenPeriodSTKError&quot;</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><br> <hr> <h3 id="function-afterupdatefrozen"><a href="#function-afterupdatefrozen" class="header-anchor">#</a> Function afterUpdateFrozen</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterUpdateFrozen</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">Long</span> frozenTypeId<span class="token punctuation">,</span> <span class="token class-name">Date</span> frozenDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger after updated the frozen date.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>Long</code></td> <td>The business entity id</td></tr> <tr><td>frozenTypeId</td> <td><code>Long</code></td> <td>The frozen type id</td></tr> <tr><td>frozenDate</td> <td><code>Date</code></td> <td>The frozen date</td></tr></tbody></table> <br> <br> <h2 id="erpserverinitialized"><a href="#erpserverinitialized" class="header-anchor">#</a> ErpServerInitialized</h2> <h3 id="purpose-3"><a href="#purpose-3" class="header-anchor">#</a> Purpose</h3> <p>This interface will be triggered after the database is updated and before the JBoss started completely.</p> <p>It is usually used to initialize the cache or prepare default data.</p> <br> <h3 id="function-contextinitialized"><a href="#function-contextinitialized" class="header-anchor">#</a> Function contextInitialized</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger when the database is updated and before the JBoss started completely.</p> <br> <hr> <h3 id="function-afterinitialized"><a href="#function-afterinitialized" class="header-anchor">#</a> Function afterInitialized</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Triggered after <code>contextInitialized()</code>.</p> <br> <br> <h2 id="generaterecord"><a href="#generaterecord" class="header-anchor">#</a> GenerateRecord</h2> <h3 id="purpose-4"><a href="#purpose-4" class="header-anchor">#</a> Purpose</h3> <p>Used to interact with aiM18 when the system tried to create a record from another module. (Example: Delivery note generate Sales Invoice record)</p> <br> <h3 id="function-beforesaverecord"><a href="#function-beforesaverecord" class="header-anchor">#</a> Function beforeSaveRecord</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">boolean</span> <span class="token function">beforeSaveRecord</span><span class="token punctuation">(</span><span class="token class-name">SqlEntity</span> fromEntity<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token class-name">String</span> jsonParam<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger when the target entity(e.g. Sales Invoice) is ready to save. Return <code>false</code> if developers need to prohibit the save process.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>fromEntity</td> <td><code>SqlEntity</code></td> <td>The entity of from module. Example: Entity of Delivery Note.</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>The entity of to module. Example: Entity of Sales Invoice.</td></tr> <tr><td>jsonParam</td> <td><code>String</code></td> <td>Some parameters.</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td>If <code>false</code>, recode will not be saved.</td></tr></tbody></table> <br> <br> <h2 id="specbsruleitem"><a href="#specbsruleitem" class="header-anchor">#</a> SpecBsRuleItem</h2> <h3 id="purpose-5"><a href="#purpose-5" class="header-anchor">#</a> Purpose</h3> <p>Used to interact with aiM18 when business rule is needed in the system.</p> <br> <h3 id="function-getspecbsruleitem"><a href="#function-getspecbsruleitem" class="header-anchor">#</a> Function getSpecBsRuleItem</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BsRuleItem</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSpecBsRuleItem</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Triggered when aiM18 request for business rule items. Developers can define additional business rule in Java and return to the system.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>Long</code></td> <td>The current business entity id</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>The triggered module's name</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>List&lt;BsRuleItem&gt;</code></td> <td>A list of additional business rule Items.</td></tr></tbody></table> <p><strong>Example</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TrdgSpecBsRuleItem</span> <span class="token keyword">implements</span> <span class="token class-name">SpecBsRuleItem</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BsRuleItem</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSpecBsRuleItem</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">MacUtil</span><span class="token punctuation">.</span><span class="token function">matchAppModule</span><span class="token punctuation">(</span>moduleName<span class="token punctuation">,</span> <span class="token class-name">TradeStaticVar</span><span class="token punctuation">.</span>appName<span class="token punctuation">)</span>
				<span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token class-name">TradeUtil</span><span class="token punctuation">.</span><span class="token function">isTradingUdfEditor</span><span class="token punctuation">(</span>moduleName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BsRuleItem</span><span class="token punctuation">&gt;</span></span> specItems <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BsRuleItem</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">BsRule</span> rules <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">BsRule</span><span class="token punctuation">)</span> <span class="token class-name">CawCache</span><span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token class-name">ErpStaticVar</span><span class="token punctuation">.</span>bsRule<span class="token punctuation">,</span> <span class="token string">&quot;xxxx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>rules <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TradeUtil</span><span class="token punctuation">.</span><span class="token function">isAllowNs</span><span class="token punctuation">(</span>beId<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token class-name">TradeUtil</span><span class="token punctuation">.</span><span class="token function">checkInventoryModule</span><span class="token punctuation">(</span>beId<span class="token punctuation">,</span> moduleName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token class-name">BsRuleItem</span> allowNsItem <span class="token operator">=</span> rules<span class="token punctuation">.</span><span class="token function">getChkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;allowNs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				specItems<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>allowNsItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> specItems<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <br> <h2 id="asavechkhandler"><a href="#asavechkhandler" class="header-anchor">#</a> ASaveChkHandler</h2> <h3 id="purpose-6"><a href="#purpose-6" class="header-anchor">#</a> Purpose</h3> <p>Used to interact with aiM18 when a transaction is saved. Usually used to check the foreign key constrain/data when saving a transaction with footer values.</p> <p>For example, If the currency id in sales order(SO) is not equal to the currency id in the delivery note stated in the SO footer. the sales order cannot be saved.</p> <br> <h3 id="function-getasavechksql"><a href="#function-getasavechksql" class="header-anchor">#</a> Function getASaveChkSql</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">getASaveChkSql</span><span class="token punctuation">(</span><span class="token class-name">ASaveChkItem</span> item<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> mainData<span class="token punctuation">,</span> <span class="token class-name">String</span> chkValue<span class="token punctuation">,</span> <span class="token class-name">String</span> joinkeycol<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Define a SQL which used to check if the above following example is valid:</p> <p>If the currency id in sales order(SO) is not equal to the currency id in the delivery note stated in the SO footer. the sales order cannot be saved.</p> <p>If the dataset returned by running the SQL is non-empty, the transaction cannot be saved and error will pop up.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>item</td> <td><code>ASaveChkItem</code></td> <td>The <code>ASaveChkItem</code> object</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>The module name</td></tr> <tr><td>mainData</td> <td><code>SqlTable</code></td> <td>The main table of saving record</td></tr> <tr><td>chkValue</td> <td><code>String</code></td> <td>The value of check field</td></tr> <tr><td>joinkeycol</td> <td><code>String</code></td> <td>The join key condition</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>SQL statement</td></tr></tbody></table> <br> <br> <h2 id="generatedejblot"><a href="#generatedejblot" class="header-anchor">#</a> GeneratedEJBLot</h2> <h3 id="purpose-7"><a href="#purpose-7" class="header-anchor">#</a> Purpose</h3> <p>Used to interact with aiM18 when lot number is ready to generate in EJB.</p> <br> <h3 id="function-originaccept"><a href="#function-originaccept" class="header-anchor">#</a> Function originAccept</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">originAccept</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Triggered when the lot number is ready to generate. Used to determine if the current module should generate the lot number using this interface.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>module</td> <td><code>String</code></td> <td>Module name</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td><code>true</code> to generate the lot number using generate() in this interface. <code>fales</code> to generate the lot number using aiM18 default method.</td></tr></tbody></table> <br> <hr> <h3 id="function-generate"><a href="#function-generate" class="header-anchor">#</a> Function generate</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">int</span> rowIndex<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">SqlTable</span> footer<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> emptyField<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">String</span> lotField<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">String</span> proField<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Triggered when <code>originAccept()</code> return <code>true</code>. It is used to generate the lot number.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>module</td> <td><code>String</code></td> <td>The module name</td></tr> <tr><td>beId</td> <td><code>Long</code></td> <td>The business entity id</td></tr> <tr><td>rowIndex</td> <td><code>int</code></td> <td>The row index of footer table</td></tr> <tr><td>footer</td> <td><code>SqlTable</code></td> <td>The footer table</td></tr> <tr><td>emptyField</td> <td><code>String[]</code></td> <td>Ignore the empty row according to the empty fields.</td></tr> <tr><td>lotField</td> <td><code>String</code></td> <td>The lot number field</td></tr> <tr><td>proField</td> <td><code>String</code></td> <td>The product field</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>The lot number generated</td></tr></tbody></table> <br> <br> <h2 id="generatedjsflot"><a href="#generatedjsflot" class="header-anchor">#</a> GeneratedJSFLot</h2> <h3 id="purpose-8"><a href="#purpose-8" class="header-anchor">#</a> Purpose</h3> <p>It is used when lot number is ready to generate In JSF. Functions and methods are the same as <code>GeneratedEJBLot</code>, please refer to <a href="#generatedejblot">GeneratedEJBLot</a> for more details.</p> <br> <br> <h2 id="loadtradefooter"><a href="#loadtradefooter" class="header-anchor">#</a> LoadTradeFooter</h2> <h3 id="purpose-9"><a href="#purpose-9" class="header-anchor">#</a> Purpose</h3> <p>Triggered when loading footer data from origin and used to assign unit price and description fields in footer.</p> <br> <h3 id="function-getmultipropricedesc"><a href="#function-getmultipropricedesc" class="header-anchor">#</a> Function getMultiProPriceDesc</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">SqlTable</span> <span class="token function">getMultiProPriceDesc</span><span class="token punctuation">(</span><span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">Long</span> refId<span class="token punctuation">,</span> <span class="token class-name">Long</span> virDeptId<span class="token punctuation">,</span> <span class="token class-name">String</span> date<span class="token punctuation">,</span> <span class="token class-name">String</span> upOrigin<span class="token punctuation">,</span> <span class="token class-name">String</span> descOrigin<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> footer<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> proField<span class="token punctuation">,</span> <span class="token class-name">String</span> jsonParam<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Triggered after the system loaded the footer data from origin, developer can use this function to amend or override the result set.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>module</td> <td><code>String</code></td> <td>The module name</td></tr> <tr><td>beId</td> <td><code>Long</code></td> <td>The business entity id</td></tr> <tr><td>refId</td> <td><code>Long</code></td> <td>The customer/vendor id</td></tr> <tr><td>virDeptId</td> <td><code>Long</code></td> <td>The business unit id</td></tr> <tr><td>date</td> <td><code>String</code></td> <td>The date of the transaction</td></tr> <tr><td>upOrigin</td> <td><code>String</code></td> <td>Product price origin</td></tr> <tr><td>descOrigin</td> <td><code>String</code></td> <td>Product description origin</td></tr> <tr><td>footer</td> <td><code>SqlTable</code></td> <td>The footer table instance</td></tr> <tr><td>proField</td> <td><code>String[]</code></td> <td>String[] { &quot;proId&quot;, &quot;unitId&quot;, &quot;qty&quot; }</td></tr> <tr><td>jsonParam</td> <td><code>String</code></td> <td>Some parameters</td></tr> <tr><td>result</td> <td><code>SqlTable</code></td> <td>The result table</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>SqlTable</code></td> <td>Return a sqlTable with amended result set.</td></tr></tbody></table> <br> <hr> <h3 id="function-assign-footer-updesc"><a href="#function-assign-footer-updesc" class="header-anchor">#</a> Function assign_footer_updesc</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">assign_footer_updesc</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> footer<span class="token punctuation">,</span> <span class="token keyword">int</span> footerIndex<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> tarTable<span class="token punctuation">,</span> <span class="token keyword">int</span> rec<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Triggered after the system assigned brief description and detail description or unit price. Developers can amended the final version of the fields' value before display it in the user interface.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>footer</td> <td><code>SqlTable</code></td> <td>The footer table</td></tr> <tr><td>footerIndex</td> <td><code>int</code></td> <td>The row index of footer table</td></tr> <tr><td>tarTable</td> <td><code>SqlTable</code></td> <td>The result table for assigning unit price or assigning different description.</td></tr> <tr><td>rec</td> <td><code>int</code></td> <td>The row index of result table</td></tr></tbody></table> <br> <br> <h2 id="assignlotnohelper"><a href="#assignlotnohelper" class="header-anchor">#</a> AssignLotnoHelper</h2> <h3 id="purpose-10"><a href="#purpose-10" class="header-anchor">#</a> Purpose</h3> <p>It is used for developer to interact with aiM18 to amended the lot number table after the system has generate the default setting.</p> <br> <h3 id="function-isaccept"><a href="#function-isaccept" class="header-anchor">#</a> Function isAccept</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isAccept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Determine if the other function in this interface should be run.</p> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td><code>true</code> to run other function in this interface. <code>false</code> to ignore this interface.</td></tr></tbody></table> <br> <hr> <h3 id="function-getassignlotno"><a href="#function-getassignlotno" class="header-anchor">#</a> Function getAssignLotno</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">SqlTable</span> <span class="token function">getAssignLotno</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger when aiM18 has generated lot number for the product. Developers can make use of this function to amend the lot number assigned in <code>stock</code>.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>module</td> <td><code>String</code></td> <td>The module name</td></tr> <tr><td>stock</td> <td><code>SqlTable</code></td> <td>The original assigned lot number table</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>SqlTable</code></td> <td>New assigned lot number table.</td></tr></tbody></table> <br> <hr> <h3 id="function-sortstock"><a href="#function-sortstock" class="header-anchor">#</a> Function sortStock</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sortStock</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stock<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sortFieldList<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> sortTypeList<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger right after <code>getAssignLotno()</code>. Used to sort the lot number table.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>module</td> <td><code>String</code></td> <td>The module name</td></tr> <tr><td>stock</td> <td><code>SqlTable</code></td> <td>The lot number table</td></tr> <tr><td>sortFieldList</td> <td><code>List&lt;String&gt;</code></td> <td>A list of sorting fields.</td></tr> <tr><td>sortTypeList</td> <td><code>List&lt;Boolean&gt;</code></td> <td>A list of sorting direction. The order of the direction mapped with the list of field list.  <code>true</code> means ascending. <code>false</code> means descending.</td></tr></tbody></table> <br> <hr> <h3 id="function-isstockfit"><a href="#function-isstockfit" class="header-anchor">#</a> Function isStockFit</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isStockFit</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stock<span class="token punctuation">,</span> <span class="token keyword">int</span> stockIndex<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> footer<span class="token punctuation">,</span> <span class="token keyword">int</span> footerIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Determine if the lot number should be assigned.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>module</td> <td><code>String</code></td> <td>The module name</td></tr> <tr><td>stock</td> <td><code>SqlTable</code></td> <td>The lot number table</td></tr> <tr><td>stockIndex</td> <td><code>int</code></td> <td>The row index of lot number table</td></tr> <tr><td>footer</td> <td><code>SqlTable</code></td> <td>The footer table</td></tr> <tr><td>footerIndex</td> <td><code>int</code></td> <td>The row index of footer table</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td>If <code>false</code>, the lot number will not assigned to footer table.</td></tr></tbody></table> <br> <br> <h2 id="imaccalchandler"><a href="#imaccalchandler" class="header-anchor">#</a> IMacCalcHandler</h2> <h3 id="purpose-11"><a href="#purpose-11" class="header-anchor">#</a> Purpose</h3> <p>This interface is used for interacting with aiM18 using aiM18 Mobile Application.</p> <br> <h3 id="function-getorder"><a href="#function-getorder" class="header-anchor">#</a> Function getOrder</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Define the order of the interface, the lower the number, the earlier the interface will be called.</p> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>int</code></td> <td>Return order number.</td></tr></tbody></table> <br> <hr> <h3 id="function-efe-mainfooter-up"><a href="#function-efe-mainfooter-up" class="header-anchor">#</a> Function efe_mainfooter_up</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">efe_mainfooter_up</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> tranType<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> footer<span class="token punctuation">,</span> <span class="token keyword">int</span> rowIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger when unit price is ready to be filled.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>tranType</td> <td><code>String</code></td> <td>The module name</td></tr> <tr><td>footer</td> <td><code>SqlTable</code></td> <td>The footer table</td></tr> <tr><td>rowIndex</td> <td><code>int</code></td> <td>The row index of footer table</td></tr></tbody></table> <br> <hr> <h3 id="function-calc-invamt"><a href="#function-calc-invamt" class="header-anchor">#</a> Function calc_invamt</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">calc_invamt</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> tranType<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> mainData<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> mainFooter<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> mainDisc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Used to calculate &lt;Total Amount / Total Charge / Total Discount / Amount&gt; in header before the transaction saved.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>tranType</td> <td><code>String</code></td> <td>The module name</td></tr> <tr><td>mainData</td> <td><code>SqlTable</code></td> <td>The main table</td></tr> <tr><td>mainFooter</td> <td><code>SqlTable</code></td> <td>The footer table</td></tr> <tr><td>mainDisc</td> <td><code>SqlTable</code></td> <td>The discount table</td></tr></tbody></table> <br> <hr> <h3 id="function-getinchargeqtyfield"><a href="#function-getinchargeqtyfield" class="header-anchor">#</a> Function getInChargeQtyField</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">getInChargeQtyField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;qty&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>It is used to get inChargeQty field name in footer table.</p> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>Return the inChargeQty field in footer table.</td></tr></tbody></table> <br> <hr> <h3 id="function-getfooterupfield"><a href="#function-getfooterupfield" class="header-anchor">#</a> Function getFooterUpField</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">getFooterUpField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;up&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>It is used to get unit price field name in footer table.</p> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>Return the unit price field in footer table.</td></tr></tbody></table> <br> <hr> <h3 id="function-getfooterucfield"><a href="#function-getfooterucfield" class="header-anchor">#</a> Function getFooterUcField</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">getFooterUcField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;uc&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>It is used to get unit cost field name in footer table.</p> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>Return unit cost field name in footer table.</td></tr></tbody></table> <br> <br> <h2 id="updateprocost"><a href="#updateprocost" class="header-anchor">#</a> UpdateProCost</h2> <h3 id="purpose-12"><a href="#purpose-12" class="header-anchor">#</a> Purpose</h3> <p>It is used for developer to interact with aiM18 when running Close Stock.</p> <br> <h3 id="detailed-description"><a href="#detailed-description" class="header-anchor">#</a> Detailed Description</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UpdateProCost</span> <span class="token punctuation">{</span>

	<span class="token comment">/**
	 * For Product LLC
	 * this function can be replaced by using procedure named get_pro_llc_*
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">SqlTable</span> <span class="token function">getMatList</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * For Data Updating(Stock In UC)
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">beforeLoadData</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> codeList<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * can append special field used in the getCalcUc
	 * or
	 * update data
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterLoadData</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> codeList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stockIn<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stockOut<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stock_open<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * 1: return false(CalcUcStatus.skipOther) means skip the other instance of UpdateProCost
	 * 2: for special value please set it to CalcUcStatus.uc(and set CalcUcStatus.setUc = true)
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">CalcUcStatus</span> <span class="token function">getCalcUc</span><span class="token punctuation">(</span><span class="token class-name">String</span> stk_mth<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStockIn<span class="token punctuation">,</span> <span class="token keyword">int</span> rowIndex<span class="token punctuation">,</span> <span class="token keyword">double</span> calcUc<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> tempVarList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> tempStockIn<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> tempStockOut<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">boolean</span> <span class="token function">calcFIFOUc</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> inVARLIST<span class="token punctuation">,</span> <span class="token class-name">Long</span> proId<span class="token punctuation">,</span> <span class="token class-name">Date</span> tranDate<span class="token punctuation">,</span> <span class="token keyword">int</span> outIndex<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stockIn<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stockOut<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stock_open<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> outAss<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> retAss<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> retUesd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * For Product Cost Updating(PC)
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterUpdateUc</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> codeList<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * For Data Updating After Close Stock
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterCloseStock</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * For Data Updating After Reverse Stock
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterReverseStock</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <br> <h2 id="loadbomdatasourcehelper"><a href="#loadbomdatasourcehelper" class="header-anchor">#</a> LoadBomDataSourceHelper</h2> <h3 id="purpose-13"><a href="#purpose-13" class="header-anchor">#</a> Purpose</h3> <p>For developer to adjust the bill of materials data after loading the instant cost sheet data.</p> <br> <h3 id="function-updatebomdatasourcedata"><a href="#function-updatebomdatasourcedata" class="header-anchor">#</a> Function updateBomDataSourceData</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SqlTable</span><span class="token punctuation">&gt;</span></span> <span class="token function">updateBomDataSourceData</span><span class="token punctuation">(</span><span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">int</span> bomRec<span class="token punctuation">,</span> <span class="token keyword">int</span> footerIndex<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SqlTable</span><span class="token punctuation">&gt;</span></span> bomInfo<span class="token punctuation">,</span> <span class="token class-name">String</span> bomDataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger after the instant cost sheet data is loaded.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>entity</td> <td><code>SqlEntity</code></td> <td>The SqlEntity of the module</td></tr> <tr><td>bomRec</td> <td><code>int</code></td> <td>The row index of the bill of material list.</td></tr> <tr><td>footerIndex</td> <td><code>int</code></td> <td>The row index of the main footer table.</td></tr> <tr><td>bomInfo</td> <td><code>List&lt;SqlTable&gt;</code></td> <td>A group of <code>SqlTable</code>, use <code>bomInfo.get(0)</code> to get the table of bill of material list.</td></tr> <tr><td>bomDataSource</td> <td><code>String</code></td> <td>The data source.</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td>Return the amended <code>bomInfo</code>.</td></tr></tbody></table> <br> <br> <h2 id="modulesettinghelper"><a href="#modulesettinghelper" class="header-anchor">#</a> ModuleSettingHelper</h2> <h3 id="purpose-14"><a href="#purpose-14" class="header-anchor">#</a> Purpose</h3> <p>Determine the if the module should behave like that in stock module.</p> <br> <h3 id="function-checkinventorymodule"><a href="#function-checkinventorymodule" class="header-anchor">#</a> Function checkInventoryModule</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkInventoryModule</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Determine if it is an inventory module.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>The module name going to check</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td>if <code>true</code>, this module will act like an inventory module.</td></tr></tbody></table> <br> <hr> <h3 id="function-getstkmodule"><a href="#function-getstkmodule" class="header-anchor">#</a> Function getStkModule</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">SqlTable</span> <span class="token function">getStkModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Developer can define a module to be used in business flow process.</p> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>SqlTable</code></td> <td>A new <code>SqlTable</code> with one column(<code>module</code>) only. Provide the module name in every records to add additional module to the business flow process editor.</td></tr></tbody></table> <br> <br> <h2 id="generatevoucher"><a href="#generatevoucher" class="header-anchor">#</a> GenerateVoucher</h2> <h3 id="purpose-15"><a href="#purpose-15" class="header-anchor">#</a> Purpose</h3> <p>For developers to interact with aiM18 when generating voucher from transactions.</p> <br> <h3 id="function-getudforder"><a href="#function-getudforder" class="header-anchor">#</a> Function getUDFOrder</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">int</span> <span class="token function">getUDFOrder</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Determine if the function <code>GenerateUDFVoucher()</code> should be run. The number must be larger than <code>-1</code>.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>The module of the transaction</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>The <code>SqlEntity</code> of the transaction</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>Indicate if the transaction is of stock transaction</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>int</code></td> <td>The result integer should be larger than <code>-1</code> if <code>GenerateUDFVoucher()</code> needed to be run.</td></tr></tbody></table> <br> <hr> <h3 id="function-generateudfvoucher"><a href="#function-generateudfvoucher" class="header-anchor">#</a> Function GenerateUDFVoucher</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">Object</span> <span class="token class-name">GenerateUDFVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Override the original system default voucher generation rules. Provide the new SQL to the system and generate a voucher.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>The module of the transaction</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>The <code>SqlEntity</code> of the transaction</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>Indicate if the transaction is of stock transaction</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>Object</code></td> <td>Return <code>null</code> to ignore this function. Return <code>CheckMsg</code> object to prohibit the process to be completed, the transaction will be fail to save. Return <code>List&lt;String&gt;</code> which include all the SQL statements needed to generate the voucher.</td></tr></tbody></table> <br> <hr> <h3 id="function-beforegeneratevoucher"><a href="#function-beforegeneratevoucher" class="header-anchor">#</a> Function beforeGenerateVoucher</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">beforeGenerateVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger when <code>GenerateUDFVoucher()</code> return <code>null</code> and developers can provide additional SQL statements before the default SQL statements is generated.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>The module name going to check</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>The SqlEntity of the transaction</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>Indicate if the transaction is stock related</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>The SQL statement that need to be run before the SQL statement generated by the system is run.</td></tr></tbody></table> <br> <hr> <h3 id="function-beforegent"><a href="#function-beforegent" class="header-anchor">#</a> Function beforeGenT</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">beforeGenT</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger when <code>GenerateUDFVoucher()</code> return <code>null</code> and developers can provide additional SQL statements before the default SQL statements to generate the footer of the voucher is generated.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>The module name going to check</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>The SqlEntity of the transaction</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>Indicate if the transaction is stock related</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>The SQL statement that need to be run before the SQL statement generated by the system is run.</td></tr></tbody></table> <br> <hr> <h3 id="function-aftergeneratevoucher"><a href="#function-aftergeneratevoucher" class="header-anchor">#</a> Function afterGenerateVoucher</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">afterGenerateVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">,</span> <span class="token class-name">Long</span> voucherId<span class="token punctuation">,</span> <span class="token keyword">boolean</span> genModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger when <code>GenerateUDFVoucher()</code> return <code>null</code> and developers can provide additional SQL statements after all the default SQL statements of the voucher is generated.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>The module name going to check</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>The SqlEntity of the transaction</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>Indicate if the transaction is stock related</td></tr> <tr><td>voucherId</td> <td><code>Long</code></td> <td>The id of the voucher configuration editor</td></tr> <tr><td>genModel</td> <td><code>boolean</code></td> <td>Indicate if the voucher is generated once the transaction is saved (Instant Voucher)</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>The SQL statement that need to be run after the SQL statement generated by the system is run.</td></tr></tbody></table> <br> <hr> <h3 id="function-aftergenerateinstancevoucher"><a href="#function-aftergenerateinstancevoucher" class="header-anchor">#</a> Function afterGenerateInstanceVoucher</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">afterGenerateInstanceVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger after <code>afterGenerateVoucher()</code> and the voucher is generated once the transaction is saved (Instant Voucher).</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>The module name going to check</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>The SqlEntity of the transaction</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>Indicate if the transaction is stock related</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>The SQL statement that need to be run after the SQL statement generated by the system is run.</td></tr></tbody></table> <br> <hr> <h3 id="function-aftergeneratemodulevoucher"><a href="#function-aftergeneratemodulevoucher" class="header-anchor">#</a> Function afterGenerateModuleVoucher</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">afterGenerateModuleVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> ids<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger when the voucher is batch generated per module and all the system default SQL statements is generated.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>The module name going to check</td></tr> <tr><td>ids</td> <td><code>List&lt;Long&gt;</code></td> <td>A group of transaction ids</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>Determine if the transaction is stock type</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>The SQL statement that need to be run after the SQL statement generated by the system is run.</td></tr></tbody></table> <br> <hr> <h3 id="function-aftergeneratetranvoucher"><a href="#function-aftergeneratetranvoucher" class="header-anchor">#</a> Function afterGenerateTranVoucher</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">afterGenerateTranVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token keyword">long</span> ids<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger when the voucher is batch generated per transaction and all the system default SQL statements is generated.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>The module name going to check</td></tr> <tr><td>ids</td> <td><code>long</code></td> <td>The transaction id</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>Determine if the transaction is stock type</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>The SQL statement that need to be run after the SQL statement generated by the system is run.</td></tr></tbody></table> <br> <hr> <h3 id="function-afterbatchrevertvoucher"><a href="#function-afterbatchrevertvoucher" class="header-anchor">#</a> Function afterBatchRevertVoucher</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">afterBatchRevertVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> jlId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger when the vouchers are ready to reverted and all the system default SQL statements is generated.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>jlId</td> <td><code>long</code></td> <td>The journal voucher's id that ready to be revert</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>The SQL statement that need to be run after the SQL statement generated by the system is run.</td></tr></tbody></table> <br> <br> <h2 id="prqallocate"><a href="#prqallocate" class="header-anchor">#</a> PrqAllocate</h2> <h3 id="purpose-16"><a href="#purpose-16" class="header-anchor">#</a> Purpose</h3> <p>Interact with aiM18 when dealing with MRP Generation.</p> <br> <h3 id="function-supply-demand"><a href="#function-supply-demand" class="header-anchor">#</a> Function supply_demand</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">void</span> <span class="token function">supply_demand</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> etdList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> etaList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stkList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> etd_supply_List<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Allocate the demand and supply quantity for special case in MRP generation.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>etdList</td> <td><code>SqlTable</code></td> <td>Demand list in step 2</td></tr> <tr><td>etaList</td> <td><code>SqlTable</code></td> <td>Supply list in step 2</td></tr> <tr><td>stkList</td> <td><code>SqlTable</code></td> <td>Supply stock quantity table</td></tr> <tr><td>etd_supply_List</td> <td><code>SqlTable</code></td> <td>The allocation result on [Available Quantity Setup].</td></tr></tbody></table> <br> <br> <h2 id="loadlocktranhelper"><a href="#loadlocktranhelper" class="header-anchor">#</a> LoadLockTranHelper</h2> <h3 id="purpose-17"><a href="#purpose-17" class="header-anchor">#</a> Purpose</h3> <p>Interact with aiM18 [Lock / Release Material] Editor.</p> <br> <h3 id="function-addloadlocktrancond"><a href="#function-addloadlocktrancond" class="header-anchor">#</a> Function addLoadLockTranCond</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addLoadLockTranCond</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> loadType<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FormatCond</span><span class="token punctuation">&gt;</span></span> conds<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Trigger when loading matched material with/without lock. Developers can modify the user's conditions and affect the searching result.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>loadType</td> <td><code>String</code></td> <td>Determine if locked material should be loaded. Options: <code>lock</code>, <code>release</code></td></tr> <tr><td>module</td> <td><code>String</code></td> <td>The module that the system going to search</td></tr> <tr><td>conds</td> <td><code>List&lt;FormatCond&gt;</code></td> <td>The conditions defined by users</td></tr></tbody></table> <h2 id="tradingsettinghelper"><a href="#tradingsettinghelper" class="header-anchor">#</a> TradingSettingHelper</h2> <h3 id="purpose-18"><a href="#purpose-18" class="header-anchor">#</a> Purpose</h3> <p>Used to expand the [Preference Setup (Trade)] setting module.</p> <br> <h3 id="function-getlasttrantablename"><a href="#function-getlasttrantablename" class="header-anchor">#</a> Function <code>getLastTranTableName</code></h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">getLastTranTableName</span><span class="token punctuation">(</span><span class="token class-name">String</span> origin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Get the table name of the type of the &quot;last transaction&quot; source in the cache.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>origin</td> <td><code>String</code></td> <td>&quot;Last transaction&quot; source type</td></tr></tbody></table> <p><strong>Result</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>return the table name of the type of the &quot;last transaction&quot; source in the cache.</td></tr></tbody></table> <hr> <h3 id="function-addtradingsettingdata"><a href="#function-addtradingsettingdata" class="header-anchor">#</a> Function <code>addTradingSettingData</code></h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">addTradingSettingData</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">SqlTable</span><span class="token punctuation">&gt;</span></span> cacheMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Add extra cached data for the <code>TradeStaticVar.tradingSetting</code> cache.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>cacheMap</td> <td><code>Map&lt;String, SqlTable&gt;</code></td> <td><code>TradeStaticVar.tradingSetting</code> cache data</td></tr></tbody></table> <h2 id="ecnhelper"><a href="#ecnhelper" class="header-anchor">#</a> EcnHelper</h2> <h3 id="purpose-19"><a href="#purpose-19" class="header-anchor">#</a> Purpose</h3> <p>Used to extend the [Engineering Change Note] module</p> <br> <h3 id="function-ecnchangeprocessextradata"><a href="#function-ecnchangeprocessextradata" class="header-anchor">#</a> Function <code>ecnChangeProcessExtraData</code></h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">ecnChangeProcessExtraData</span><span class="token punctuation">(</span><span class="token class-name">SqlEntity</span> ecnpEntity<span class="token punctuation">,</span> <span class="token keyword">int</span> ecnptRec<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> bomEntity<span class="token punctuation">,</span> <span class="token keyword">int</span> bomptRec<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Used for the [Engineering Change Note (Work Process)] module, the data added to the extension is replaced with the BOM change order.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>ecnpEntity</td> <td><code>SqlEntity</code></td> <td>The entity of [Engineering Change Note (Work Process)]</td></tr> <tr><td>ecnptRec</td> <td><code>int</code></td> <td>The row index of [Engineering Change Note (Work Process)] footer table</td></tr> <tr><td>bomEntity</td> <td><code>SqlEntity</code></td> <td>The entity of [BOM]</td></tr> <tr><td>bomptRec</td> <td><code>int</code></td> <td>The row index of [BOM] process footer</td></tr></tbody></table> <hr> <h3 id="function-ecnchangematextradata"><a href="#function-ecnchangematextradata" class="header-anchor">#</a> Function <code>ecnChangeMatExtraData</code></h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">ecnChangeMatExtraData</span><span class="token punctuation">(</span><span class="token class-name">SqlEntity</span> ecnmEntity<span class="token punctuation">,</span> <span class="token keyword">int</span> ecnmtRec<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> bomEntity<span class="token punctuation">,</span> <span class="token keyword">int</span> bomtRec<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Description</strong></p> <p>Used for the [Engineering Change Note (Material)] module, the data added to the extension is replaced with the BOM change order.</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>ecnmEntity</td> <td><code>SqlEntity</code></td> <td>The entity of [Engineering Change Note (Material)]</td></tr> <tr><td>ecnmtRec</td> <td><code>int</code></td> <td>The row index of [Engineering Change Note (Material)] footer table</td></tr> <tr><td>bomEntity</td> <td><code>SqlEntity</code></td> <td>The entity of [BOM]</td></tr> <tr><td>bomtRec</td> <td><code>int</code></td> <td>The row index of [BOM] material footer</td></tr></tbody></table> <h2 id="depositdatahelper"><a href="#depositdatahelper" class="header-anchor">#</a> DepositDataHelper</h2> <h3 id="purpose-20"><a href="#purpose-20" class="header-anchor">#</a> Purpose</h3> <p>Used to extend deposit receivable and to receive/settle deposit.</p> <br> <h3 id="function-appendardepositreceipt"><a href="#function-appendardepositreceipt" class="header-anchor">#</a> Function  <code>appendArDepositReceipt</code></h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendArDepositReceipt</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> 			<span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> 	 loadGroupCo<span class="token punctuation">,</span> <span class="token class-name">String</span> arapAlloType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Used to load the extended deposit receipt/deposit utilised data, such as the deposit received in [POS Invoice]</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>Data of deposit receipt</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>User id</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>Debtor Type</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>Debtor id</td></tr> <tr><td>sourceId</td> <td><code>long</code></td> <td>The id of the transaction which load the data</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>As at date</td></tr> <tr><td>orderList</td> <td><code>String</code></td> <td>The deposit list which need to load (load all when empty)</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>The transaction type which load the data</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>Load group company data</td></tr> <tr><td>arapAlloType</td> <td><code>String</code></td> <td>The deposit type to read in [AR - AP Off-Set Slip]</td></tr></tbody></table> <h3 id="example"><a href="#example" class="header-anchor">#</a> <strong>Example</strong></h3> <p>When a deposit receipt is load, you need to include the deposit received by [POS Invoice], as extended below</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendArDepositReceipt</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span>   	<span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> 	<span class="token class-name">String</span> arapAlloType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_poscoreac_recregdeposet (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> 			<span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> sourceId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> orderList <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> moduleFrom 		<span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="function-appendapdepositreceipt"><a href="#function-appendapdepositreceipt" class="header-anchor">#</a> Function  <code>appendApDepositReceipt</code></h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendApDepositReceipt</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> 			<span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> 	 loadGroupCo<span class="token punctuation">,</span> <span class="token class-name">String</span> arapAlloType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Used to load the extended deposit payment/deposit utilised data, such as the deposit payment in [Subcontract Invoice]</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>Data of deposit payment</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>User id</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>Creditor Type</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>Creditor id</td></tr> <tr><td>sourceId</td> <td><code>long</code></td> <td>The id of the transaction which load the data</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>As at date</td></tr> <tr><td>orderList</td> <td><code>String</code></td> <td>The deposit list which need to load (load all when empty)</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>The transaction type which load the data</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>Load group company data</td></tr> <tr><td>arapAlloType</td> <td><code>String</code></td> <td>The deposit type to read in [AR - AP Off-Set Slip]</td></tr></tbody></table> <h3 id="example-2"><a href="#example-2" class="header-anchor">#</a> <strong>Example</strong></h3> <p>When the deposit payment is load, the deposit used in [Subcontract Invoice] needs to be deducted as follows:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendApDepositReceipt</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span> 		<span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> 	<span class="token class-name">String</span> arapAlloType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_pdcoreac_payregdeposet (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> 			<span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> sourceId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> orderList <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> moduleFrom 		<span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> depMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> depDomMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">int</span> deci <span class="token operator">=</span> <span class="token class-name">MacUtil</span><span class="token punctuation">.</span><span class="token function">getAmtDecimal</span><span class="token punctuation">(</span>beId<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> rec <span class="token operator">:</span> myTable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token class-name">String</span> sTranType <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sTranType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">long</span> sTranId <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sTranId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token class-name">String</span> refType <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;refType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">long</span> sorId <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sorId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token class-name">String</span> lot <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;lot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token class-name">String</span> key <span class="token operator">=</span> sTranType <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> sTranId <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> 					refType <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> sorId <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> lot<span class="token punctuation">;</span>

				<span class="token keyword">double</span> depoAmt <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;depoAmt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">double</span> domDepoAmt <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;domDepoAmt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span>depMap<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					depoAmt <span class="token operator">=</span> <span class="token class-name">MathLib</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>depoAmt <span class="token operator">+</span> depMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> deci<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span>depDomMap<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					domDepoAmt <span class="token operator">=</span> <span class="token class-name">MathLib</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>domDepoAmt <span class="token operator">+</span> depDomMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> deci<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				depMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> depoAmt<span class="token punctuation">)</span><span class="token punctuation">;</span>
				depDomMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> domDepoAmt<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> recList <span class="token operator">=</span> <span class="token class-name">ListLib</span><span class="token punctuation">.</span><span class="token function">newList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> rec <span class="token operator">:</span> retTable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token class-name">String</span> sTranType <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sTranType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">long</span> sTranId <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sTranId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token class-name">String</span> refType <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;refType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">long</span> sorId <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sorId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token class-name">String</span> lot <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;lot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">double</span> bal <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;bal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">double</span> balAmt <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;balAmt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">double</span> balDomAmt <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;balDomAmt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token class-name">String</span> key <span class="token operator">=</span> sTranType <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> sTranId <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> 					refType <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> sorId <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> lot<span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span>depMap<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					bal <span class="token operator">=</span> <span class="token class-name">MathLib</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>bal <span class="token operator">+</span> depMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> deci<span class="token punctuation">)</span><span class="token punctuation">;</span>
					balAmt <span class="token operator">=</span> <span class="token class-name">MathLib</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>balAmt <span class="token operator">-</span> depMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> deci<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span>depDomMap<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					balDomAmt <span class="token operator">=</span> <span class="token class-name">MathLib</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>balDomAmt <span class="token operator">-</span> depDomMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> deci<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				retTable<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;bal&quot;</span><span class="token punctuation">,</span> bal<span class="token punctuation">)</span><span class="token punctuation">;</span>
				retTable<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;balAmt&quot;</span><span class="token punctuation">,</span> balAmt<span class="token punctuation">)</span><span class="token punctuation">;</span>
				retTable<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;balDomAmt&quot;</span><span class="token punctuation">,</span> balDomAmt<span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span>balAmt <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					recList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>rec<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span>recList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				retTable<span class="token punctuation">.</span><span class="token function">deleteRows</span><span class="token punctuation">(</span>recList<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="function-appendarosdeposit"><a href="#function-appendarosdeposit" class="header-anchor">#</a> Function  <code>appendArOsDeposit</code></h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendArOsDeposit</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> 	tranType<span class="token punctuation">,</span> <span class="token keyword">long</span> tranId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>The data used to load extended deposit order, such as the deposit in a [Consignment Order]</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>Data of deposit</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>User id</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>Debtor id</td></tr> <tr><td>tranType</td> <td><code>String</code></td> <td>The transaction type which load the data</td></tr> <tr><td>tranId</td> <td><code>long</code></td> <td>The id of the transaction which load the data</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>As at date</td></tr> <tr><td>orderList</td> <td><code>String</code></td> <td>The deposit list which need to load (load all when empty)</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>Load group company data</td></tr> <tr><td>loadAll</td> <td><code>boolean</code></td> <td>Load with no balance</td></tr></tbody></table> <h3 id="example-3"><a href="#example-3" class="header-anchor">#</a> <strong>Example</strong></h3> <p>When the deposit order is load, you need to add the deposit for the  [Consignment Order], which is extended below</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendArOsDeposit</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> 			tranType<span class="token punctuation">,</span> <span class="token keyword">long</span> tranId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_consigncoamt2 (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> <span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tranType <span class="token operator">+</span> 	 <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> tranId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> orderList <span class="token operator">+</span> <span class="token string">&quot;',&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> 		<span class="token punctuation">(</span>loadAll <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

	<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="function-appendaposdeposit"><a href="#function-appendaposdeposit" class="header-anchor">#</a> Function  <code>appendApOsDeposit</code></h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendApOsDeposit</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> 	tranType<span class="token punctuation">,</span> <span class="token keyword">long</span> tranId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>The data used to load extended deposit order, such as the deposit in a [Subcontract Order]</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>Data of deposit</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>User id</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>Creditor id</td></tr> <tr><td>tranType</td> <td><code>String</code></td> <td>The transaction type which load the data</td></tr> <tr><td>tranId</td> <td><code>long</code></td> <td>The id of the transaction which load the data</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>As at date</td></tr> <tr><td>orderList</td> <td><code>String</code></td> <td>The deposit list which need to load (load all when empty)</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>Load group company data</td></tr> <tr><td>loadAll</td> <td><code>boolean</code></td> <td>Load with no balance</td></tr></tbody></table> <h3 id="example-4"><a href="#example-4" class="header-anchor">#</a> <strong>Example</strong></h3> <p>When the deposit order is load, you need to add the deposit for the  [Subcontract Order], which is extended below</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendApOsDeposit</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> 			tranType<span class="token punctuation">,</span> <span class="token keyword">long</span> tranId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_pdcoreac_amt (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> <span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tranType <span class="token operator">+</span> 	<span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> tranId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> orderList <span class="token operator">+</span> <span class="token string">&quot;',&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> 		<span class="token punctuation">(</span>loadAll <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

	<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="financedatahelper"><a href="#financedatahelper" class="header-anchor">#</a> FinanceDataHelper</h2> <h3 id="purpose-21"><a href="#purpose-21" class="header-anchor">#</a> Purpose</h3> <p>Used to extend AR invoice.</p> <br> <h3 id="function-updatearinvoiceremain"><a href="#function-updatearinvoiceremain" class="header-anchor">#</a> Function  <code>updateArInvoiceRemain</code></h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">updateArInvoiceRemain</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token keyword">long</span> sTranId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiId<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> tDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Used to load the extended AR invoice  balance amount, such as [XXXX AR Invoice]</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>The invoice balance amount data</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>User id</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>Debtor type</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>Debtor id</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>The transaction type which load the data</td></tr> <tr><td>sourceId</td> <td><code>long</code></td> <td>The id of the transaction which load the data</td></tr> <tr><td>sTranId</td> <td><code>long</code></td> <td>AR Invoice id</td></tr> <tr><td>multiId</td> <td><code>long</code></td> <td>[Multiple Receipt] id</td></tr> <tr><td>sTranType</td> <td><code>String</code></td> <td>AR Invoice type</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>As at date</td></tr></tbody></table> <h3 id="example-5"><a href="#example-5" class="header-anchor">#</a> <strong>Example</strong></h3> <p>When loading the balance amount of [XXXX AR Invoice], extended as follows</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">updateArInvoiceRemain</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token keyword">long</span> sTranId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiId<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> tDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_xxxx_arRemain (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> 			<span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> moduleFrom <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> sourceId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> sTranType <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> sTranId <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> 		<span class="token operator">+</span> multiRecId <span class="token operator">+</span> <span class="token string">&quot;,'&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;')&quot;</span><span class="token punctuation">;</span>	

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="function-updateapinvoiceremain"><a href="#function-updateapinvoiceremain" class="header-anchor">#</a> Function  <code>updateApInvoiceRemain</code></h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">updateApInvoiceRemain</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token keyword">long</span> sTranId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiId<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> tDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Used to load the extended AP invoice  balance amount, such as [XXXX AP Invoice]</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>The invoice balance amount data</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>User id</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>Creditor type</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>Creditor id</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>The transaction type which load the data</td></tr> <tr><td>sourceId</td> <td><code>long</code></td> <td>The id of the transaction which load the data</td></tr> <tr><td>sTranId</td> <td><code>long</code></td> <td>AP Invoice id</td></tr> <tr><td>multiId</td> <td><code>long</code></td> <td>[Multiple Payment] id</td></tr> <tr><td>sTranType</td> <td><code>String</code></td> <td>AP Invoice type</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>As at date</td></tr></tbody></table> <h3 id="example-6"><a href="#example-6" class="header-anchor">#</a> <strong>Example</strong></h3> <p>When loading the balance amount of [XXXX AP Invoice], extended as follows</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">updateApInvoiceRemain</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token keyword">long</span> sTranId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiId<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> tDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_xxxx_apRemain (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> 			<span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> moduleFrom <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> sourceId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> sTranType <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> sTranId <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> 		<span class="token operator">+</span> multiRecId <span class="token operator">+</span> <span class="token string">&quot;,'&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;')&quot;</span><span class="token punctuation">;</span>	

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="function-appendarosinvoice"><a href="#function-appendarosinvoice" class="header-anchor">#</a> Function  <code>appendArOsInvoice</code></h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendArOsInvoice</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 		<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> recregId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiRecId<span class="token punctuation">,</span> <span class="token class-name">String</span> sDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> 	 eDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sStaff<span class="token punctuation">,</span> <span class="token class-name">String</span> eStaff<span class="token punctuation">,</span> <span class="token keyword">int</span> loadCrNote<span class="token punctuation">,</span> <span class="token class-name">String</span> invList<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Used to load the extended AR invoice outstanding invoice, such as [XXXX AR Invoice]</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>Outstanding AR Invoice data</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>User id</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>Debtor type</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>Debtor id</td></tr> <tr><td>recregId</td> <td><code>long</code></td> <td>The id of the transaction which load the data</td></tr> <tr><td>multiRecId</td> <td><code>long</code></td> <td>[Multiple Receipt] id</td></tr> <tr><td>sDate</td> <td><code>String</code></td> <td>Start date</td></tr> <tr><td>eDate</td> <td><code>String</code></td> <td>End date</td></tr> <tr><td>sDDate</td> <td><code>String</code></td> <td>Start due date</td></tr> <tr><td>eDDate</td> <td><code>String</code></td> <td>End due date</td></tr> <tr><td>sStaff</td> <td><code>String</code></td> <td>Start staff code</td></tr> <tr><td>eStaff</td> <td><code>String</code></td> <td>End staff code</td></tr> <tr><td>loadCrNote</td> <td><code>int</code></td> <td>Load with no balance</td></tr> <tr><td>invList</td> <td><code>String</code></td> <td>The invoice list which need to load (load all when empty)</td></tr> <tr><td>sTranType</td> <td><code>String</code></td> <td>AR invoice type</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>The transaction type which load the data</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>Load group company data</td></tr></tbody></table> <h3 id="example-7"><a href="#example-7" class="header-anchor">#</a> <strong>Example</strong></h3> <p>When loading the outstanding amount of [XXXX AR Invoice], extended as follows</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendArOsInvoice</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> recregId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiRecId<span class="token punctuation">,</span> <span class="token class-name">String</span> sDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDDate<span class="token punctuation">,</span> 		<span class="token class-name">String</span> sStaff<span class="token punctuation">,</span> <span class="token class-name">String</span> eStaff<span class="token punctuation">,</span> <span class="token keyword">int</span> loadCrNote<span class="token punctuation">,</span> <span class="token class-name">String</span> invList<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> <span class="token class-name">String</span> 			moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_xxxx_napbal (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> 			<span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> payRegId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> multiPayId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> sDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> 			sDDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eDDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> sStaff <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eStaff <span class="token operator">+</span> <span class="token string">&quot;',&quot;</span> <span class="token operator">+</span> loadDbNote <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> 		invList <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> sTranType <span class="token operator">+</span> <span class="token string">&quot;', '&quot;</span> <span class="token operator">+</span> moduleFrom <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="function-appendaposinvoice"><a href="#function-appendaposinvoice" class="header-anchor">#</a> Function  <code>appendApOsInvoice</code></h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendApOsInvoice</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 		<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> payRegId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiPayId<span class="token punctuation">,</span> <span class="token class-name">String</span> sDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> 	eDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sStaff<span class="token punctuation">,</span> <span class="token class-name">String</span> eStaff<span class="token punctuation">,</span> <span class="token keyword">int</span> loadDbNote<span class="token punctuation">,</span> <span class="token class-name">String</span> invList<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Description</strong></p> <p>Used to load the extended AP invoice outstanding invoice, such as [XXXX AP Invoice]</p> <p><strong>Parameters</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>Outstanding AR Invoice data</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>The business entity id</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>User id</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>Creditor type</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>Creditor id</td></tr> <tr><td>payRegId</td> <td><code>long</code></td> <td>The id of the transaction which load the data</td></tr> <tr><td>multiPayId</td> <td><code>long</code></td> <td>[Multiple Payment] id</td></tr> <tr><td>sDate</td> <td><code>String</code></td> <td>Start date</td></tr> <tr><td>eDate</td> <td><code>String</code></td> <td>End date</td></tr> <tr><td>sDDate</td> <td><code>String</code></td> <td>Start due date</td></tr> <tr><td>eDDate</td> <td><code>String</code></td> <td>End due date</td></tr> <tr><td>sStaff</td> <td><code>String</code></td> <td>Start staff code</td></tr> <tr><td>eStaff</td> <td><code>String</code></td> <td>End staff code</td></tr> <tr><td>loadDbNote</td> <td><code>int</code></td> <td>Load with no balance</td></tr> <tr><td>invList</td> <td><code>String</code></td> <td>The invoice list which need to load (load all when empty)</td></tr> <tr><td>sTranType</td> <td><code>String</code></td> <td>AP invoice type</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>The transaction type which load the data</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>Load group company data</td></tr></tbody></table> <h3 id="example-8"><a href="#example-8" class="header-anchor">#</a> <strong>Example</strong></h3> <p>When loading the outstanding amount of [XXXX AP Invoice], extended as follows</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendApOsInvoice</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> payRegId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiPayId<span class="token punctuation">,</span> <span class="token class-name">String</span> sDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDDate<span class="token punctuation">,</span> 		<span class="token class-name">String</span> sStaff<span class="token punctuation">,</span> <span class="token class-name">String</span> eStaff<span class="token punctuation">,</span> <span class="token keyword">int</span> loadDbNote<span class="token punctuation">,</span> <span class="token class-name">String</span> invList<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> <span class="token class-name">String</span> 			moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_prodac_napbal (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> 			<span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> payRegId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> multiPayId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> sDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> 			sDDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eDDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> sStaff <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eStaff <span class="token operator">+</span> <span class="token string">&quot;',&quot;</span> <span class="token operator">+</span> loadDbNote <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> 		invList <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> sTranType <span class="token operator">+</span> <span class="token string">&quot;', '&quot;</span> <span class="token operator">+</span> moduleFrom <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2025/05/29, 08:57:55</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/793dcj/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Mobile App Setup</div></a> <a href="/pages/1dfab3/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">ERP XML Config Files</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/793dcj/" class="prev">Mobile App Setup</a></span> <span class="next"><a href="/pages/1dfab3/">ERP XML Config Files</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:m18ce02@multiable.com" title="Send Mail" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/m18ce01" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://www.multiable.com/" title="Home Page" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 1990-2025
    <span><a href="https://www.multiable.com/">Multiable</a> | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c0adcb3b.js" defer></script><script src="/assets/js/2.60d4b592.js" defer></script><script src="/assets/js/13.78746d91.js" defer></script>
  </body>
</html>
