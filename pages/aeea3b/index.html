<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ERP EJB 接口 | aiM18 Developer Center</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="Make Something People Want">
    <meta name="keywords" content="erp,bpm,hcm,ebi">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.874a5d55.css" as="style"><link rel="preload" href="/assets/js/app.c0adcb3b.js" as="script"><link rel="preload" href="/assets/js/2.60d4b592.js" as="script"><link rel="preload" href="/assets/js/27.b23fd5d3.js" as="script"><link rel="prefetch" href="/assets/js/10.4ef70614.js"><link rel="prefetch" href="/assets/js/11.40b4f1d8.js"><link rel="prefetch" href="/assets/js/12.ac2408a4.js"><link rel="prefetch" href="/assets/js/13.78746d91.js"><link rel="prefetch" href="/assets/js/14.b121ec7d.js"><link rel="prefetch" href="/assets/js/15.f65e9e65.js"><link rel="prefetch" href="/assets/js/16.3ab989a0.js"><link rel="prefetch" href="/assets/js/17.5e94362b.js"><link rel="prefetch" href="/assets/js/18.fe32a64f.js"><link rel="prefetch" href="/assets/js/19.d065cb74.js"><link rel="prefetch" href="/assets/js/20.4a82ad20.js"><link rel="prefetch" href="/assets/js/21.48c0a2b3.js"><link rel="prefetch" href="/assets/js/22.234dfe15.js"><link rel="prefetch" href="/assets/js/23.e79ad5ff.js"><link rel="prefetch" href="/assets/js/24.f745f458.js"><link rel="prefetch" href="/assets/js/25.97fcbc87.js"><link rel="prefetch" href="/assets/js/26.24d877e6.js"><link rel="prefetch" href="/assets/js/28.3823617e.js"><link rel="prefetch" href="/assets/js/29.1f676df9.js"><link rel="prefetch" href="/assets/js/3.4f3f893b.js"><link rel="prefetch" href="/assets/js/30.41e05b55.js"><link rel="prefetch" href="/assets/js/31.bda13ed0.js"><link rel="prefetch" href="/assets/js/32.70d14c00.js"><link rel="prefetch" href="/assets/js/33.bc949a04.js"><link rel="prefetch" href="/assets/js/34.46a488fa.js"><link rel="prefetch" href="/assets/js/35.90d111e7.js"><link rel="prefetch" href="/assets/js/36.0ebff776.js"><link rel="prefetch" href="/assets/js/37.0f1a1f00.js"><link rel="prefetch" href="/assets/js/38.575482fe.js"><link rel="prefetch" href="/assets/js/39.9e1e1782.js"><link rel="prefetch" href="/assets/js/4.1ecbfdf7.js"><link rel="prefetch" href="/assets/js/40.335439ea.js"><link rel="prefetch" href="/assets/js/41.d3107211.js"><link rel="prefetch" href="/assets/js/42.7f8d1f29.js"><link rel="prefetch" href="/assets/js/43.c95443c4.js"><link rel="prefetch" href="/assets/js/44.2888a38c.js"><link rel="prefetch" href="/assets/js/45.62145119.js"><link rel="prefetch" href="/assets/js/46.13a9ca18.js"><link rel="prefetch" href="/assets/js/47.219482dc.js"><link rel="prefetch" href="/assets/js/48.1766b41a.js"><link rel="prefetch" href="/assets/js/49.f4ca78f8.js"><link rel="prefetch" href="/assets/js/5.b935706f.js"><link rel="prefetch" href="/assets/js/50.5e3c9136.js"><link rel="prefetch" href="/assets/js/51.4dc87bd1.js"><link rel="prefetch" href="/assets/js/52.171a10b3.js"><link rel="prefetch" href="/assets/js/53.7b30d375.js"><link rel="prefetch" href="/assets/js/54.81656afe.js"><link rel="prefetch" href="/assets/js/55.cca9b1cb.js"><link rel="prefetch" href="/assets/js/56.ded236a0.js"><link rel="prefetch" href="/assets/js/57.656ea847.js"><link rel="prefetch" href="/assets/js/58.ecbcd953.js"><link rel="prefetch" href="/assets/js/59.8b7f3b57.js"><link rel="prefetch" href="/assets/js/6.7349ea2a.js"><link rel="prefetch" href="/assets/js/60.b3cbf58b.js"><link rel="prefetch" href="/assets/js/61.fba74806.js"><link rel="prefetch" href="/assets/js/62.822dfced.js"><link rel="prefetch" href="/assets/js/63.c394134c.js"><link rel="prefetch" href="/assets/js/64.3087dd35.js"><link rel="prefetch" href="/assets/js/65.2172a35d.js"><link rel="prefetch" href="/assets/js/66.f65e2587.js"><link rel="prefetch" href="/assets/js/67.6fa7a948.js"><link rel="prefetch" href="/assets/js/68.c84d2832.js"><link rel="prefetch" href="/assets/js/69.7ff4b4b6.js"><link rel="prefetch" href="/assets/js/7.280afd54.js"><link rel="prefetch" href="/assets/js/70.48fbb717.js"><link rel="prefetch" href="/assets/js/71.393a4b0e.js"><link rel="prefetch" href="/assets/js/72.7f80169b.js"><link rel="prefetch" href="/assets/js/73.df820547.js"><link rel="prefetch" href="/assets/js/74.bb6d3d21.js"><link rel="prefetch" href="/assets/js/75.bca88166.js"><link rel="prefetch" href="/assets/js/76.f135c37a.js"><link rel="prefetch" href="/assets/js/77.443a00a7.js"><link rel="prefetch" href="/assets/js/78.e725d8f9.js"><link rel="prefetch" href="/assets/js/79.0a19d110.js"><link rel="prefetch" href="/assets/js/8.ec111418.js"><link rel="prefetch" href="/assets/js/9.f644efa6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.874a5d55.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logonav.png" alt="aiM18 Developer Center" class="logo"> <span class="site-name can-hide">aiM18 Developer Center</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">DOC Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="App Development" class="dropdown-title"><a href="/pages/7488ac/" class="link-title">App Development</a> <span class="title" style="display:none;">App Development</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7488ac/" class="nav-link">Overview</a></li><li class="dropdown-subitem"><a href="/pages/793dcd/" class="nav-link">Frontend Framework</a></li><li class="dropdown-subitem"><a href="/pages/793dce/" class="nav-link">Backend Framework</a></li><li class="dropdown-subitem"><a href="/pages/793dcf/" class="nav-link">EBI Development</a></li><li class="dropdown-subitem"><a href="/pages/793dcg/" class="nav-link">JSF Components</a></li><li class="dropdown-subitem"><a href="/pages/793dch/" class="nav-link">BPM Extension Interface</a></li><li class="dropdown-subitem"><a href="/pages/793dci/" class="nav-link">Telescope Extension Interface</a></li><li class="dropdown-subitem"><a href="/pages/793dcj/" class="nav-link">Mobile App Setup</a></li></ul></li><li class="dropdown-item"><h4>ERP</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1dfab2/" class="nav-link">ERP EJB Interfaces</a></li><li class="dropdown-subitem"><a href="/pages/1dfab3/" class="nav-link">ERP XML Config Files</a></li><li class="dropdown-subitem"><a href="/pages/1dfab4/" class="nav-link">ERP Decorators (Frontend Interfaces)</a></li></ul></li><li class="dropdown-item"><h4>Tutorial</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/793dcc/" class="nav-link">Setup Development Environment</a></li><li class="dropdown-subitem"><a href="/pages/d922fb/" class="nav-link">Sample App</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API Integration" class="dropdown-title"><a href="/pages/2ffa7b/" class="link-title">API Integration</a> <span class="title" style="display:none;">API Integration</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/2ffa7b/" class="nav-link">Authentication</a></li><li class="dropdown-subitem"><a href="/pages/c42005/" class="nav-link">Common JSON Objects</a></li><li class="dropdown-subitem"><a href="/pages/c79a4a/" class="nav-link">Core Services</a></li><li class="dropdown-subitem"><a href="/pages/dcf49b/" class="nav-link">EBI Services</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/b24673/" class="nav-link">Enterprise Resource Planning</a></li><li class="dropdown-item"><!----> <a href="/pages/fe122f/" class="nav-link">Human Capital Management</a></li><li class="dropdown-item"><!----> <a href="/pages/d34faf/" class="nav-link">Business Process Management</a></li><li class="dropdown-item"><!----> <a href="/pages/48360c/" class="nav-link">Schedule Management</a></li><li class="dropdown-item"><!----> <a href="/pages/c06ace/" class="nav-link">Document Management</a></li><li class="dropdown-item"><h4>Tutorial</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7537af/" class="nav-link">Interacting with aiM18 via webservices</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/pages/7487bc/" class="nav-link">Tutorial</a></div> <a href="https://github.com/m18ce01?tab=repositories" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">DOC Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="App Development" class="dropdown-title"><a href="/pages/7488ac/" class="link-title">App Development</a> <span class="title" style="display:none;">App Development</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7488ac/" class="nav-link">Overview</a></li><li class="dropdown-subitem"><a href="/pages/793dcd/" class="nav-link">Frontend Framework</a></li><li class="dropdown-subitem"><a href="/pages/793dce/" class="nav-link">Backend Framework</a></li><li class="dropdown-subitem"><a href="/pages/793dcf/" class="nav-link">EBI Development</a></li><li class="dropdown-subitem"><a href="/pages/793dcg/" class="nav-link">JSF Components</a></li><li class="dropdown-subitem"><a href="/pages/793dch/" class="nav-link">BPM Extension Interface</a></li><li class="dropdown-subitem"><a href="/pages/793dci/" class="nav-link">Telescope Extension Interface</a></li><li class="dropdown-subitem"><a href="/pages/793dcj/" class="nav-link">Mobile App Setup</a></li></ul></li><li class="dropdown-item"><h4>ERP</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1dfab2/" class="nav-link">ERP EJB Interfaces</a></li><li class="dropdown-subitem"><a href="/pages/1dfab3/" class="nav-link">ERP XML Config Files</a></li><li class="dropdown-subitem"><a href="/pages/1dfab4/" class="nav-link">ERP Decorators (Frontend Interfaces)</a></li></ul></li><li class="dropdown-item"><h4>Tutorial</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/793dcc/" class="nav-link">Setup Development Environment</a></li><li class="dropdown-subitem"><a href="/pages/d922fb/" class="nav-link">Sample App</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API Integration" class="dropdown-title"><a href="/pages/2ffa7b/" class="link-title">API Integration</a> <span class="title" style="display:none;">API Integration</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Platform</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/2ffa7b/" class="nav-link">Authentication</a></li><li class="dropdown-subitem"><a href="/pages/c42005/" class="nav-link">Common JSON Objects</a></li><li class="dropdown-subitem"><a href="/pages/c79a4a/" class="nav-link">Core Services</a></li><li class="dropdown-subitem"><a href="/pages/dcf49b/" class="nav-link">EBI Services</a></li></ul></li><li class="dropdown-item"><!----> <a href="/pages/b24673/" class="nav-link">Enterprise Resource Planning</a></li><li class="dropdown-item"><!----> <a href="/pages/fe122f/" class="nav-link">Human Capital Management</a></li><li class="dropdown-item"><!----> <a href="/pages/d34faf/" class="nav-link">Business Process Management</a></li><li class="dropdown-item"><!----> <a href="/pages/48360c/" class="nav-link">Schedule Management</a></li><li class="dropdown-item"><!----> <a href="/pages/c06ace/" class="nav-link">Document Management</a></li><li class="dropdown-item"><h4>Tutorial</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/7537af/" class="nav-link">Interacting with aiM18 via webservices</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/pages/7487bc/" class="nav-link">Tutorial</a></div> <a href="https://github.com/m18ce01?tab=repositories" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/7486ac/" class="sidebar-link">主页</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>平台</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/becaba/" class="sidebar-link">平台总体概述</a></li><li><a href="/pages/ac081b/" class="sidebar-link">前端开发须知</a></li><li><a href="/pages/211e7e/" class="sidebar-link">后台开发须知</a></li><li><a href="/pages/fbff3c/" class="sidebar-link">EBI开发须知</a></li><li><a href="/pages/b9ae7e/" class="sidebar-link">JSF组件属性表</a></li><li><a href="/pages/72489e/" class="sidebar-link">BPM扩展接口</a></li><li><a href="/pages/b4a06c/" class="sidebar-link">一查到底扩展接口</a></li><li><a href="/pages/5e69e0/" class="sidebar-link">手机App设置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ERP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/aeea3b/" aria-current="page" class="active sidebar-link">ERP EJB 接口</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#massmailhandler" class="sidebar-link">MassMailHandler</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#handleemail函数" class="sidebar-link">handleEmail函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#sendemail函数" class="sidebar-link">sendEmail函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#updatefrozendate" class="sidebar-link">UpdateFrozenDate</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-2" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#beforeupdatefrozen函数" class="sidebar-link">beforeUpdateFrozen函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#afterupdatefrozen函数" class="sidebar-link">afterUpdateFrozen函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#erpserverinitialized" class="sidebar-link">ErpServerInitialized</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-3" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#contextinitialized函数" class="sidebar-link">contextInitialized函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#afterinitialized函数" class="sidebar-link">afterInitialized函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#generaterecord" class="sidebar-link">GenerateRecord</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-4" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#beforesaverecord函数" class="sidebar-link">beforeSaveRecord函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#specbsruleitem" class="sidebar-link">SpecBsRuleItem</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-5" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#getspecbsruleitem函数" class="sidebar-link">getSpecBsRuleItem函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#asavechkhandler" class="sidebar-link">ASaveChkHandler</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-6" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#getasavechksql函数" class="sidebar-link">getASaveChkSql函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#generatedejblot" class="sidebar-link">GeneratedEJBLot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-7" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#originaccept函数" class="sidebar-link">originAccept函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#generate函数" class="sidebar-link">generate函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#generatedjsflot" class="sidebar-link">GeneratedJSFLot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-8" class="sidebar-link">目的</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#loadtradefooter" class="sidebar-link">LoadTradeFooter</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-9" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#getmultipropricedesc函数" class="sidebar-link">getMultiProPriceDesc函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#assign-footer-updesc函数" class="sidebar-link">assign_footer_updesc函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#assignlotnohelper" class="sidebar-link">AssignLotnoHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-10" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#isaccept函数" class="sidebar-link">isAccept函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#getassignlotno函数" class="sidebar-link">getAssignLotno函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#sortstock函数" class="sidebar-link">sortStock函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#isstockfit函数" class="sidebar-link">isStockFit函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#imaccalchandler" class="sidebar-link">IMacCalcHandler</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-11" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#getorder函数" class="sidebar-link">getOrder函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#efe-mainfooter-up函数" class="sidebar-link">efe_mainfooter_up函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#calc-invamt函数" class="sidebar-link">calc_invamt函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#getinchargeqtyfield函数" class="sidebar-link">getInChargeQtyField函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#getfooterupfield函数" class="sidebar-link">getFooterUpField函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#getfooterucfield函数" class="sidebar-link">getFooterUcField函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#updateprocost" class="sidebar-link">UpdateProCost</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-12" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#详细说明" class="sidebar-link">详细说明</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#loadbomdatasourcehelper" class="sidebar-link">LoadBomDataSourceHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-13" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#updatebomdatasourcedata函数" class="sidebar-link">updateBomDataSourceData函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#modulesettinghelper" class="sidebar-link">ModuleSettingHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-14" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#checkinventorymodule函数" class="sidebar-link">checkInventoryModule函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#getstkmodule函数" class="sidebar-link">getStkModule函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#generatevoucher" class="sidebar-link">GenerateVoucher</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-15" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#getudforder函数" class="sidebar-link">getUDFOrder函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#generateudfvoucher函数" class="sidebar-link">GenerateUDFVoucher函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#beforegeneratevoucher函数" class="sidebar-link">beforeGenerateVoucher函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#beforegent函数" class="sidebar-link">beforeGenT函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#aftergeneratevoucher函数" class="sidebar-link">afterGenerateVoucher函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#aftergenerateinstancevoucher函数" class="sidebar-link">afterGenerateInstanceVoucher函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#aftergeneratemodulevoucher函数" class="sidebar-link">afterGenerateModuleVoucher函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#aftergeneratetranvoucher函数" class="sidebar-link">afterGenerateTranVoucher函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#afterbatchrevertvoucher函数" class="sidebar-link">afterBatchRevertVoucher函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#prqallocate" class="sidebar-link">PrqAllocate</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-16" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#supply-demand函数" class="sidebar-link">supply_demand函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#loadlocktranhelper" class="sidebar-link">LoadLockTranHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-17" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#addloadlocktrancond函数" class="sidebar-link">addLoadLockTranCond函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#tradingsettinghelper" class="sidebar-link">TradingSettingHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-18" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#getlasttrantablename函数" class="sidebar-link">getLastTranTableName函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#addtradingsettingdata函数" class="sidebar-link">addTradingSettingData函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#ecnhelper" class="sidebar-link">EcnHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-19" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#ecnchangeprocessextradata函数" class="sidebar-link">ecnChangeProcessExtraData函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#ecnchangematextradata函数" class="sidebar-link">ecnChangeMatExtraData函数</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#depositdatahelper" class="sidebar-link">DepositDataHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-20" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#appendardepositreceipt函数" class="sidebar-link">appendArDepositReceipt函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#例子" class="sidebar-link">例子</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#appendapdepositreceipt函数" class="sidebar-link">appendApDepositReceipt函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#例子-2" class="sidebar-link">例子</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#appendarosdeposit函数" class="sidebar-link">appendArOsDeposit函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#例子-3" class="sidebar-link">例子</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#appendaposdeposit函数" class="sidebar-link">appendApOsDeposit函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#例子-4" class="sidebar-link">例子</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/aeea3b/#financedatahelper" class="sidebar-link">FinanceDataHelper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#目的-21" class="sidebar-link">目的</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#updatearinvoiceremain函数" class="sidebar-link">updateArInvoiceRemain函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#例子-5" class="sidebar-link">例子</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#updateapinvoiceremain函数" class="sidebar-link">updateApInvoiceRemain函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#例子-6" class="sidebar-link">例子</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#appendarosinvoice函数" class="sidebar-link">appendArOsInvoice函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#例子-7" class="sidebar-link">例子</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#appendaposinvoice函数" class="sidebar-link">appendApOsInvoice函数</a></li><li class="sidebar-sub-header level3"><a href="/pages/aeea3b/#例子-8" class="sidebar-link">例子</a></li></ul></li></ul></li><li><a href="/pages/d5dca4/" class="sidebar-link">ERP XML 配置应用</a></li><li><a href="/pages/5551b1/" class="sidebar-link">ERP 装饰器(前端接口)</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>教程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/7b6279/" class="sidebar-link">设置Eclipse开发环境</a></li><li><a href="/pages/23b34f/" class="sidebar-link">创建App教程</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>App中文</span></li><li data-v-06225672><span data-v-06225672>ERP</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/m18ce01" target="_blank" title="作者" class="beLink" data-v-06225672>Multiable</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2024-02-27</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">ERP EJB 接口<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p><code>版本: 1.2 | 发布日期: 07/02/2024</code></p> <h2 id="massmailhandler"><a href="#massmailhandler" class="header-anchor">#</a> MassMailHandler</h2> <h3 id="目的"><a href="#目的" class="header-anchor">#</a> 目的</h3> <p>用于在[邮件报告设定]发送电子邮件时处理电子邮件。</p> <br> <h3 id="handleemail函数"><a href="#handleemail函数" class="header-anchor">#</a> <code>handleEmail</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">handleEmail</span><span class="token punctuation">(</span><span class="token class-name">MacEmail</span> email<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> massmail<span class="token punctuation">,</span> <span class="token class-name">CawReport</span> report<span class="token punctuation">,</span> <span class="token class-name">CawReportDataSet</span> dataSet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于在[邮件报告设定]发送电子邮件时处理电子邮件。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>email</td> <td><code>MacEmail</code></td> <td>邮件</td></tr> <tr><td>massmail</td> <td><code>SqlTable</code></td> <td>[邮件报告设定]主表</td></tr> <tr><td>report</td> <td><code>CawReport</code></td> <td>报表</td></tr> <tr><td>dataSet</td> <td><code>CawReportDataSet</code></td> <td>报表数据</td></tr></tbody></table> <br> <hr> <h3 id="sendemail函数"><a href="#sendemail函数" class="header-anchor">#</a> <code>sendEmail</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MacEmail</span><span class="token punctuation">&gt;</span></span> <span class="token function">sendEmail</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> massmail<span class="token punctuation">,</span> <span class="token class-name">CawReport</span> report<span class="token punctuation">,</span> <span class="token class-name">CawReportDataSet</span> dataSet<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fileKey<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fileMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>它用于通过[邮件报告设定]发送电子邮件时，发送给更多的电子邮件地址。</p> <p>例如：在 core App 中，可以从客户/供应商/职员/部门/商业中心中获取邮件地址。</p> <p>例如：在 ac App 中，可以从应收对象/应付对象中获取邮件地址。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>massmail</td> <td><code>SqlTable</code></td> <td>[邮件报告设定]主表</td></tr> <tr><td>report</td> <td><code>CawReport</code></td> <td>报表</td></tr> <tr><td>dataSet</td> <td><code>CawReportDataSet</code></td> <td>报表数据</td></tr> <tr><td>fileKey</td> <td><code>Map&lt;Long, String&gt;</code></td> <td>预览文件的键值对，键是单据的ID，值是文件名。</td></tr> <tr><td>fileMap</td> <td><code>Map&lt;String, String&gt;</code></td> <td>预览文件路径的键值对，键是文件名，值是文件路径。</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>Set&lt;MacEmail&gt;</code></td> <td>额外需发送的邮件</td></tr></tbody></table> <br> <br> <h2 id="updatefrozendate"><a href="#updatefrozendate" class="header-anchor">#</a> UpdateFrozenDate</h2> <h3 id="目的-2"><a href="#目的-2" class="header-anchor">#</a> 目的</h3> <p>在冻结日期要更新前后，开发人员可以进行干预操作。</p> <br> <h3 id="beforeupdatefrozen函数"><a href="#beforeupdatefrozen函数" class="header-anchor">#</a> <code>beforeUpdateFrozen</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">beforeUpdateFrozen</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">Long</span> frozenTypeId<span class="token punctuation">,</span> <span class="token class-name">Date</span> frozenDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>冻结日期要更新前触发此函数。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>Long</code></td> <td>企业法人ID</td></tr> <tr><td>frozenTypeId</td> <td><code>Long</code></td> <td>交易冻结期类型ID</td></tr> <tr><td>frozenDate</td> <td><code>Date</code></td> <td>交易冻结期</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>运行结果说明的<code>messCode</code>。</td></tr></tbody></table> <p><strong>例子</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">beforeUpdateFrozen</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">Long</span> frozenTypeId<span class="token punctuation">,</span> <span class="token class-name">Date</span> frozenDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SqlTable</span> data <span class="token operator">=</span> <span class="token class-name">MacCheckerUtil</span><span class="token punctuation">.</span><span class="token function">excuteQuery</span><span class="token punctuation">(</span><span class="token string">&quot;frozentype&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; id = &quot;</span> <span class="token operator">+</span> frozenTypeId<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTable</span> beFile <span class="token operator">=</span> <span class="token class-name">MacUtil</span><span class="token punctuation">.</span><span class="token function">getBeGlobalSetting</span><span class="token punctuation">(</span>beId<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>beFile <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> beFile<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>frozenDate<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Date</span><span class="token punctuation">)</span> beFile<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;stkClosed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token string">&quot;ce01_core.frozenPeriodSTKError&quot;</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><br> <hr> <h3 id="afterupdatefrozen函数"><a href="#afterupdatefrozen函数" class="header-anchor">#</a> <code>afterUpdateFrozen</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterUpdateFrozen</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">Long</span> frozenTypeId<span class="token punctuation">,</span> <span class="token class-name">Date</span> frozenDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>冻结日期要更新后触发此函数。</p> <p><strong>参数</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>beId</td> <td><code>Long</code></td> <td>企业法人ID</td></tr> <tr><td>frozenTypeId</td> <td><code>Long</code></td> <td>交易冻结期类型ID</td></tr> <tr><td>frozenDate</td> <td><code>Date</code></td> <td>交易冻结期</td></tr></tbody></table> <br> <br> <h2 id="erpserverinitialized"><a href="#erpserverinitialized" class="header-anchor">#</a> ErpServerInitialized</h2> <h3 id="目的-3"><a href="#目的-3" class="header-anchor">#</a> 目的</h3> <p>在同步数据库之后和JBoss完全启动之前，将触发此接口。</p> <p>它通常用于初始化缓存或初始化数据。</p> <br> <h3 id="contextinitialized函数"><a href="#contextinitialized函数" class="header-anchor">#</a> <code>contextInitialized</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>在同步数据库之后和JBoss完全启动之前，将触发此函数。</p> <br> <hr> <h3 id="afterinitialized函数"><a href="#afterinitialized函数" class="header-anchor">#</a> <code>afterInitialized</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>在 <code>contextInitialized()</code>之后触发。</p> <br> <br> <h2 id="generaterecord"><a href="#generaterecord" class="header-anchor">#</a> GenerateRecord</h2> <h3 id="目的-4"><a href="#目的-4" class="header-anchor">#</a> 目的</h3> <p>用于创建模块单据，生成另一个模块单据时，与aiM18交互。 （示例：送货单生成销售发票记录）</p> <br> <h3 id="beforesaverecord函数"><a href="#beforesaverecord函数" class="header-anchor">#</a> <code>beforeSaveRecord</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">boolean</span> <span class="token function">beforeSaveRecord</span><span class="token punctuation">(</span><span class="token class-name">SqlEntity</span> fromEntity<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token class-name">String</span> jsonParam<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>当目标单据（例如销售发票）准备好保存时触发此函数。 如果开发人员需要中止保存过程，则返回false。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>fromEntity</td> <td><code>SqlEntity</code></td> <td>来源单据实体数据。例如: [送货单]实体数据。</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>目标单据实体数据。例如: [销售发票]实体数据。</td></tr> <tr><td>jsonParam</td> <td><code>String</code></td> <td>额外的参数.</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td>如果是 <code>false</code>，则中止保存操作。</td></tr></tbody></table> <br> <br> <h2 id="specbsruleitem"><a href="#specbsruleitem" class="header-anchor">#</a> SpecBsRuleItem</h2> <h3 id="目的-5"><a href="#目的-5" class="header-anchor">#</a> 目的</h3> <p>用于与aiM18交互，在系统中增加额外的业务规则。</p> <br> <h3 id="getspecbsruleitem函数"><a href="#getspecbsruleitem函数" class="header-anchor">#</a> <code>getSpecBsRuleItem</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BsRuleItem</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSpecBsRuleItem</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>当aiM18读取业务规则项时触发。 开发人员可以在Java中定义其他额外的业务规则并返回系统。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>Long</code></td> <td>企业法人ID</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>触发业务规则的模块</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>List&lt;BsRuleItem&gt;</code></td> <td>额外业务规则列表</td></tr></tbody></table> <p><strong>例子</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TrdgSpecBsRuleItem</span> <span class="token keyword">implements</span> <span class="token class-name">SpecBsRuleItem</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BsRuleItem</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSpecBsRuleItem</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">MacUtil</span><span class="token punctuation">.</span><span class="token function">matchAppModule</span><span class="token punctuation">(</span>moduleName<span class="token punctuation">,</span> <span class="token class-name">TradeStaticVar</span><span class="token punctuation">.</span>appName<span class="token punctuation">)</span>
				<span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token class-name">TradeUtil</span><span class="token punctuation">.</span><span class="token function">isTradingUdfEditor</span><span class="token punctuation">(</span>moduleName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BsRuleItem</span><span class="token punctuation">&gt;</span></span> specItems <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BsRuleItem</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">BsRule</span> rules <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">BsRule</span><span class="token punctuation">)</span> <span class="token class-name">CawCache</span><span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token class-name">ErpStaticVar</span><span class="token punctuation">.</span>bsRule<span class="token punctuation">,</span> <span class="token string">&quot;xxxx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>rules <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">TradeUtil</span><span class="token punctuation">.</span><span class="token function">isAllowNs</span><span class="token punctuation">(</span>beId<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token class-name">TradeUtil</span><span class="token punctuation">.</span><span class="token function">checkInventoryModule</span><span class="token punctuation">(</span>beId<span class="token punctuation">,</span> moduleName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token class-name">BsRuleItem</span> allowNsItem <span class="token operator">=</span> rules<span class="token punctuation">.</span><span class="token function">getChkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;allowNs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				specItems<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>allowNsItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> specItems<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <br> <h2 id="asavechkhandler"><a href="#asavechkhandler" class="header-anchor">#</a> ASaveChkHandler</h2> <h3 id="目的-6"><a href="#目的-6" class="header-anchor">#</a> 目的</h3> <p>用于在保存单据时与aiM18交互。 通常用于检查单据下款表的外键约束。</p> <p>例如，若[送货单]下款的来源[销售订单]中的货币ID不等于[送货单]中的货币ID，则销售订单无法保存。</p> <br> <h3 id="getasavechksql函数"><a href="#getasavechksql函数" class="header-anchor">#</a> <code>getASaveChkSql</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">getASaveChkSql</span><span class="token punctuation">(</span><span class="token class-name">ASaveChkItem</span> item<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> mainData<span class="token punctuation">,</span> <span class="token class-name">String</span> chkValue<span class="token punctuation">,</span> <span class="token class-name">String</span> joinkeycol<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>定义用于检查以上示例是否有效的SQL：</p> <p>若[送货单]下款的来源[销售订单]中的货币ID不等于[送货单]中的货币ID，则销售订单无法保存。</p> <p>如果通过运行SQL返回的数据集非空，则无法保存单据并弹出错误。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>item</td> <td><code>ASaveChkItem</code></td> <td>检查的项目</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>mainData</td> <td><code>SqlTable</code></td> <td>保存单据的主表</td></tr> <tr><td>chkValue</td> <td><code>String</code></td> <td>检查栏位的值</td></tr> <tr><td>joinkeycol</td> <td><code>String</code></td> <td>链接主键的条件</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>SQL 语句</td></tr></tbody></table> <br> <br> <h2 id="generatedejblot"><a href="#generatedejblot" class="header-anchor">#</a> GeneratedEJBLot</h2> <h3 id="目的-7"><a href="#目的-7" class="header-anchor">#</a> 目的</h3> <p>用于在在EJB中生成行次时与aiM18交互。</p> <br> <h3 id="originaccept函数"><a href="#originaccept函数" class="header-anchor">#</a> <code>originAccept</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">originAccept</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>当行次将要生成时触发此函数。 用于确定当前模块是否应使用此接口生成批号。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>module</td> <td><code>String</code></td> <td>模块名称</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td>若为<code>true</code> 则可以继续调用此接口中的<code>generate()</code>生成行次，若为 <code>fales</code>，则按照系统默认规则生成行次。</td></tr></tbody></table> <br> <hr> <h3 id="generate函数"><a href="#generate函数" class="header-anchor">#</a> <code>generate</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">int</span> rowIndex<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">SqlTable</span> footer<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> emptyField<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">String</span> lotField<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">String</span> proField<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>当<code>originAccept()</code> 返回<code>true</code>时，会触发此函数，此函数用来生成行次。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>module</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>beId</td> <td><code>Long</code></td> <td>企业法人ID</td></tr> <tr><td>rowIndex</td> <td><code>int</code></td> <td>当前下款表行次</td></tr> <tr><td>footer</td> <td><code>SqlTable</code></td> <td>当前下款表</td></tr> <tr><td>emptyField</td> <td><code>String[]</code></td> <td>判断当前行是否为空的关键栏位</td></tr> <tr><td>lotField</td> <td><code>String</code></td> <td>行次栏位</td></tr> <tr><td>proField</td> <td><code>String</code></td> <td>产品栏位</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>生成的行次</td></tr></tbody></table> <br> <br> <h2 id="generatedjsflot"><a href="#generatedjsflot" class="header-anchor">#</a> GeneratedJSFLot</h2> <h3 id="目的-8"><a href="#目的-8" class="header-anchor">#</a> 目的</h3> <p>当行次将要在JSF中生成时使用此接口。 函数与 <code>GeneratedEJBLot</code>相同，请参阅 <a href="#generatedejblot">GeneratedEJBLot</a> 以获取更多详细信息。</p> <br> <br> <h2 id="loadtradefooter"><a href="#loadtradefooter" class="header-anchor">#</a> LoadTradeFooter</h2> <h3 id="目的-9"><a href="#目的-9" class="header-anchor">#</a> 目的</h3> <p>从来源单据加载下款数据时触发，用于在下款表中加载单价和说明字段。</p> <br> <h3 id="getmultipropricedesc函数"><a href="#getmultipropricedesc函数" class="header-anchor">#</a> <code>getMultiProPriceDesc</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">SqlTable</span> <span class="token function">getMultiProPriceDesc</span><span class="token punctuation">(</span><span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">Long</span> refId<span class="token punctuation">,</span> <span class="token class-name">Long</span> virDeptId<span class="token punctuation">,</span> <span class="token class-name">String</span> date<span class="token punctuation">,</span> <span class="token class-name">String</span> upOrigin<span class="token punctuation">,</span> <span class="token class-name">String</span> descOrigin<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> footer<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> proField<span class="token punctuation">,</span> <span class="token class-name">String</span> jsonParam<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>系统从来源单据读取下款数据后触发，开发人员可以使用此功能修改或覆盖结果集。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>module</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>beId</td> <td><code>Long</code></td> <td>企业法人ID</td></tr> <tr><td>refId</td> <td><code>Long</code></td> <td>客户/供应商ID</td></tr> <tr><td>virDeptId</td> <td><code>Long</code></td> <td>商业中心ID</td></tr> <tr><td>date</td> <td><code>String</code></td> <td>单据日期</td></tr> <tr><td>upOrigin</td> <td><code>String</code></td> <td>产品价格来源</td></tr> <tr><td>descOrigin</td> <td><code>String</code></td> <td>产品说明来源</td></tr> <tr><td>footer</td> <td><code>SqlTable</code></td> <td>下款表</td></tr> <tr><td>proField</td> <td><code>String[]</code></td> <td>确定唯一性的字段</td></tr> <tr><td>jsonParam</td> <td><code>String</code></td> <td>额外的参数</td></tr> <tr><td>result</td> <td><code>SqlTable</code></td> <td>结果集</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>SqlTable</code></td> <td>修改后的结果集。</td></tr></tbody></table> <br> <hr> <h3 id="assign-footer-updesc函数"><a href="#assign-footer-updesc函数" class="header-anchor">#</a> <code>assign_footer_updesc</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">assign_footer_updesc</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> footer<span class="token punctuation">,</span> <span class="token keyword">int</span> footerIndex<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> tarTable<span class="token punctuation">,</span> <span class="token keyword">int</span> rec<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>在系统加载&lt;精简说明&gt;和&lt;详细说明&gt;或者&lt;单位价格&gt;后，触发此函数。开发人员可以修改对应栏位的值。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>footer</td> <td><code>SqlTable</code></td> <td>下款表</td></tr> <tr><td>footerIndex</td> <td><code>int</code></td> <td>下款表行次</td></tr> <tr><td>tarTable</td> <td><code>SqlTable</code></td> <td>来源数据表</td></tr> <tr><td>rec</td> <td><code>int</code></td> <td>来源数据表行次</td></tr></tbody></table> <br> <br> <h2 id="assignlotnohelper"><a href="#assignlotnohelper" class="header-anchor">#</a> AssignLotnoHelper</h2> <h3 id="目的-10"><a href="#目的-10" class="header-anchor">#</a> 目的</h3> <p>用于开发人员与aiM18交互，修改已读取的系统默认的批号表信息。</p> <br> <h3 id="isaccept函数"><a href="#isaccept函数" class="header-anchor">#</a> <code>isAccept</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isAccept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于决定这个接口的其他函数是否继续运行。</p> <p><strong>返回值</strong></p> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td>若为<code>true</code> ，则继续运行这个接口的其他函数。若为 <code>false</code>， 则中止运行这个接口的其他函数 。</td></tr></tbody></table> <br> <hr> <h3 id="getassignlotno函数"><a href="#getassignlotno函数" class="header-anchor">#</a> <code>getAssignLotno</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">SqlTable</span> <span class="token function">getAssignLotno</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>当aiM18读取了产品的批号库存信息后，开发人员可以在这个函数中修改批号库存表的信息。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>module</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>stock</td> <td><code>SqlTable</code></td> <td>库存批号表</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>SqlTable</code></td> <td>修改后的库存批号表</td></tr></tbody></table> <br> <hr> <h3 id="sortstock函数"><a href="#sortstock函数" class="header-anchor">#</a> <code>sortStock</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sortStock</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stock<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sortFieldList<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> sortTypeList<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>在<code>getAssignLotno()</code>之后触发，用来为库存批号表重新排序。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>module</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>stock</td> <td><code>SqlTable</code></td> <td>库存批号表</td></tr> <tr><td>sortFieldList</td> <td><code>List&lt;String&gt;</code></td> <td>排序字段列表</td></tr> <tr><td>sortTypeList</td> <td><code>List&lt;Boolean&gt;</code></td> <td>排序字段列表对应的排序方式。若为 <code>true</code>，则是升序，若为 <code>false</code> ，则是降序。</td></tr></tbody></table> <br> <hr> <h3 id="isstockfit函数"><a href="#isstockfit函数" class="header-anchor">#</a> <code>isStockFit</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isStockFit</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stock<span class="token punctuation">,</span> <span class="token keyword">int</span> stockIndex<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> footer<span class="token punctuation">,</span> <span class="token keyword">int</span> footerIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>判断当前库存批号表的行，是否符合分配的条件。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>module</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>stock</td> <td><code>SqlTable</code></td> <td>库存批号表</td></tr> <tr><td>stockIndex</td> <td><code>int</code></td> <td>库存批号表行次</td></tr> <tr><td>footer</td> <td><code>SqlTable</code></td> <td>被分配批号的下款表</td></tr> <tr><td>footerIndex</td> <td><code>int</code></td> <td>下款表行次</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td>若为 <code>false</code>，则库存批号表当前行不能被分配。</td></tr></tbody></table> <br> <br> <h2 id="imaccalchandler"><a href="#imaccalchandler" class="header-anchor">#</a> IMacCalcHandler</h2> <h3 id="目的-11"><a href="#目的-11" class="header-anchor">#</a> 目的</h3> <p>该接口用于aiM18移动应用程序与aiM18交互。</p> <br> <h3 id="getorder函数"><a href="#getorder函数" class="header-anchor">#</a> <code>getOrder</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>定义接口的顺序，数字越小，接口调用越早。</p> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>int</code></td> <td>返回代表调用顺序的数字。</td></tr></tbody></table> <br> <hr> <h3 id="efe-mainfooter-up函数"><a href="#efe-mainfooter-up函数" class="header-anchor">#</a> <code>efe_mainfooter_up</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">efe_mainfooter_up</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> tranType<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> footer<span class="token punctuation">,</span> <span class="token keyword">int</span> rowIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>&lt;单位价格&gt;被赋值时触发。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>tranType</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>footer</td> <td><code>SqlTable</code></td> <td>下款表</td></tr> <tr><td>rowIndex</td> <td><code>int</code></td> <td>下款表行次</td></tr></tbody></table> <br> <hr> <h3 id="calc-invamt函数"><a href="#calc-invamt函数" class="header-anchor">#</a> <code>calc_invamt</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">calc_invamt</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> tranType<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> mainData<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> mainFooter<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> mainDisc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于在保存单据之前计算上款中的&lt;总金额/总费用/总折扣/折实金额&gt;。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>tranType</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>mainData</td> <td><code>SqlTable</code></td> <td>主表</td></tr> <tr><td>mainFooter</td> <td><code>SqlTable</code></td> <td>下款表</td></tr> <tr><td>mainDisc</td> <td><code>SqlTable</code></td> <td>附加折扣/收费表</td></tr></tbody></table> <br> <hr> <h3 id="getinchargeqtyfield函数"><a href="#getinchargeqtyfield函数" class="header-anchor">#</a> <code>getInChargeQtyField</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">getInChargeQtyField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;qty&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>用户获取下款表计算金额时所使用的数量栏位名。</p> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>返回下款表计算金额时的数量栏位名</td></tr></tbody></table> <br> <hr> <h3 id="getfooterupfield函数"><a href="#getfooterupfield函数" class="header-anchor">#</a> <code>getFooterUpField</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">getFooterUpField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;up&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用户获取下款表计算金额时所使用的单价栏位名。</p> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>返回下款表计算金额时的单价栏位名</td></tr></tbody></table> <br> <hr> <h3 id="getfooterucfield函数"><a href="#getfooterucfield函数" class="header-anchor">#</a> <code>getFooterUcField</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">getFooterUcField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;uc&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用户获取下款表计算金额时所使用的成本栏位名。</p> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>返回下款表计算金额时的成本栏位名</td></tr></tbody></table> <br> <br> <h2 id="updateprocost"><a href="#updateprocost" class="header-anchor">#</a> UpdateProCost</h2> <h3 id="目的-12"><a href="#目的-12" class="header-anchor">#</a> 目的</h3> <p>开发人员与aiM18交互，用于计算库存成本。</p> <br> <h3 id="详细说明"><a href="#详细说明" class="header-anchor">#</a> 详细说明</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UpdateProCost</span> <span class="token punctuation">{</span>

	<span class="token comment">/**
	 * For Product LLC
	 * this function can be replaced by using procedure named get_pro_llc_*
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">SqlTable</span> <span class="token function">getMatList</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * For Data Updating(Stock In UC)
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">beforeLoadData</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> codeList<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * can append special field used in the getCalcUc
	 * or
	 * update data
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterLoadData</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> codeList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stockIn<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stockOut<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stock_open<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * 1: return false(CalcUcStatus.skipOther) means skip the other instance of UpdateProCost
	 * 2: for special value please set it to CalcUcStatus.uc(and set CalcUcStatus.setUc = true)
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">CalcUcStatus</span> <span class="token function">getCalcUc</span><span class="token punctuation">(</span><span class="token class-name">String</span> stk_mth<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStockIn<span class="token punctuation">,</span> <span class="token keyword">int</span> rowIndex<span class="token punctuation">,</span> <span class="token keyword">double</span> calcUc<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> tempVarList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> tempStockIn<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> tempStockOut<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">boolean</span> <span class="token function">calcFIFOUc</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> inVARLIST<span class="token punctuation">,</span> <span class="token class-name">Long</span> proId<span class="token punctuation">,</span> <span class="token class-name">Date</span> tranDate<span class="token punctuation">,</span> <span class="token keyword">int</span> outIndex<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stockIn<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stockOut<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stock_open<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> outAss<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> retAss<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> retUesd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * For Product Cost Updating(PC)
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterUpdateUc</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> codeList<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * For Data Updating After Close Stock
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterCloseStock</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * For Data Updating After Reverse Stock
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">afterReverseStock</span><span class="token punctuation">(</span><span class="token class-name">Long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> varList<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <br> <h2 id="loadbomdatasourcehelper"><a href="#loadbomdatasourcehelper" class="header-anchor">#</a> LoadBomDataSourceHelper</h2> <h3 id="目的-13"><a href="#目的-13" class="header-anchor">#</a> 目的</h3> <p>用于给开发人员修改读取的即时成本里的BOM资料信息。</p> <br> <h3 id="updatebomdatasourcedata函数"><a href="#updatebomdatasourcedata函数" class="header-anchor">#</a> <code>updateBomDataSourceData</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SqlTable</span><span class="token punctuation">&gt;</span></span> <span class="token function">updateBomDataSourceData</span><span class="token punctuation">(</span><span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">int</span> bomRec<span class="token punctuation">,</span> <span class="token keyword">int</span> footerIndex<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SqlTable</span><span class="token punctuation">&gt;</span></span> bomInfo<span class="token punctuation">,</span> <span class="token class-name">String</span> bomDataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>读取即时成本资料时触发。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>entity</td> <td><code>SqlEntity</code></td> <td>当前模块的数据实体</td></tr> <tr><td>bomRec</td> <td><code>int</code></td> <td>BOM的行次</td></tr> <tr><td>footerIndex</td> <td><code>int</code></td> <td>下款表的行次</td></tr> <tr><td>bomInfo</td> <td><code>List&lt;SqlTable&gt;</code></td> <td>读取BOM信息的列表，使用<code>bomInfo.get(0)</code> 获取BOM的主查询信息。</td></tr> <tr><td>bomDataSource</td> <td><code>String</code></td> <td>数据来源类型</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td>返回修改后的 <code>bomInfo</code>.</td></tr></tbody></table> <br> <br> <h2 id="modulesettinghelper"><a href="#modulesettinghelper" class="header-anchor">#</a> ModuleSettingHelper</h2> <h3 id="目的-14"><a href="#目的-14" class="header-anchor">#</a> 目的</h3> <p>用于扩展判定模块是否为库存模块。</p> <br> <h3 id="checkinventorymodule函数"><a href="#checkinventorymodule函数" class="header-anchor">#</a> <code>checkInventoryModule</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkInventoryModule</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>判断当前模块是否为库存模块。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>模块名称</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>boolean</code></td> <td>若为<code>true</code>，则当前模块为库存模块。</td></tr></tbody></table> <br> <hr> <h3 id="getstkmodule函数"><a href="#getstkmodule函数" class="header-anchor">#</a> <code>getStkModule</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">SqlTable</span> <span class="token function">getStkModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>用户读取库存模块，用来生成[业务流程]的缓存数据。</p> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>SqlTable</code></td> <td>一个只有一列(<code>module</code>)的 <code>SqlTable</code> 表。提供额外的库存模块。</td></tr></tbody></table> <br> <br> <h2 id="generatevoucher"><a href="#generatevoucher" class="header-anchor">#</a> GenerateVoucher</h2> <h3 id="目的-15"><a href="#目的-15" class="header-anchor">#</a> 目的</h3> <p>用于开发者与aiM18，在生成交易单据的凭证时的交互。</p> <br> <h3 id="getudforder函数"><a href="#getudforder函数" class="header-anchor">#</a> <code>getUDFOrder</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">int</span> <span class="token function">getUDFOrder</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于决定 <code>GenerateUDFVoucher()</code>函数是否该调用。返回的数值必须大于 <code>-1</code>。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>当前单据的实体数据</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>用于标志该单据是否为库存单据</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>int</code></td> <td><code>GenerateUDFVoucher()</code> 需要被调用，返回值必须大于 <code>-1</code>。</td></tr></tbody></table> <br> <hr> <h3 id="generateudfvoucher函数"><a href="#generateudfvoucher函数" class="header-anchor">#</a> <code>GenerateUDFVoucher</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">Object</span> <span class="token class-name">GenerateUDFVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>重写系统默认凭证生成规则， 将新SQL提供给系统并生成凭证。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>单据实体数据</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>标志单据是否为库存单据</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>Object</code></td> <td>若返回 <code>null</code> ，则当前函数无任何影响，进程继续运行。若返回 <code>CheckMsg</code> ，则中止当前运行进程，单据会保存失败。若返回 <code>List&lt;String&gt;</code> ，则包含所有生成凭证的SQL语句。</td></tr></tbody></table> <br> <hr> <h3 id="beforegeneratevoucher函数"><a href="#beforegeneratevoucher函数" class="header-anchor">#</a> <code>beforeGenerateVoucher</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">beforeGenerateVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p><code>GenerateUDFVouche()</code>返回<code>null</code>时触发，开发人员可以在生成默认SQL语句之前提供其他的SQL语句。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>单据实体数据</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>标志单据是否为库存相关单据</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>返回SQL语句必须在执行系统生成的SQL语句前执行。</td></tr></tbody></table> <br> <hr> <h3 id="beforegent函数"><a href="#beforegent函数" class="header-anchor">#</a> <code>beforeGenT</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">beforeGenT</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>当 <code>GenerateUDFVoucher()</code> 返回<code>null</code>并且开发人员在生成默认SQL语句之前提供其他SQL语句时触发。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>单据实体数据</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>标志单据是否为库存相关单据</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>返回的SQL语句需要在系统生成的SQL语句执行之前执行。</td></tr></tbody></table> <br> <hr> <h3 id="aftergeneratevoucher函数"><a href="#aftergeneratevoucher函数" class="header-anchor">#</a> <code>afterGenerateVoucher</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">afterGenerateVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">,</span> <span class="token class-name">Long</span> voucherId<span class="token punctuation">,</span> <span class="token keyword">boolean</span> genModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p><code>GenerateUDFVoucher()</code>返回<code>null</code>并且开发人员在生成凭证的所有默认SQL语句执行后有提供其他SQL语句时触发。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>单据实体数据</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>标志单据是否为库存相关单据</td></tr> <tr><td>voucherId</td> <td><code>Long</code></td> <td>记账凭证ID</td></tr> <tr><td>genModel</td> <td><code>boolean</code></td> <td>标志凭证是否是即时生成的。</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>返回的SQL语句需要在系统生成的SQL语句执行后执行。</td></tr></tbody></table> <br> <hr> <h3 id="aftergenerateinstancevoucher函数"><a href="#aftergenerateinstancevoucher函数" class="header-anchor">#</a> <code>afterGenerateInstanceVoucher</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">afterGenerateInstanceVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> entity<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p><code>afterGenerateVoucher()</code> 之后触发，并在保存交易后生成凭证（即时凭证）。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>entity</td> <td><code>SqlEntity</code></td> <td>单据实体数据</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>标志单据是否为库存相关单据</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>返回的SQL语句需要在系统生成的SQL语句执行后执行。</td></tr></tbody></table> <br> <hr> <h3 id="aftergeneratemodulevoucher函数"><a href="#aftergeneratemodulevoucher函数" class="header-anchor">#</a> <code>afterGenerateModuleVoucher</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">afterGenerateModuleVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> ids<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>在模块是批量生成凭证的条件下，并所有系统默认的SQL语句生成时触发。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>数名</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>ids</td> <td><code>List&lt;Long&gt;</code></td> <td>单据的ID列表</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>标志单据是否为库存相关单据</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>返回的SQL语句需要在系统生成的SQL语句执行后执行</td></tr></tbody></table> <br> <hr> <h3 id="aftergeneratetranvoucher函数"><a href="#aftergeneratetranvoucher函数" class="header-anchor">#</a> <code>afterGenerateTranVoucher</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">afterGenerateTranVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleName<span class="token punctuation">,</span> <span class="token keyword">long</span> ids<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isStock<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>在模块是批量生成凭证的条件下，并所有系统默认的SQL语句生成时触发。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>moduleName</td> <td><code>String</code></td> <td>模块名称</td></tr> <tr><td>ids</td> <td><code>long</code></td> <td>单据的ID列表</td></tr> <tr><td>isStock</td> <td><code>boolean</code></td> <td>标志单据是否为库存相关单据</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>返回的SQL语句需要在系统生成的SQL语句执行后执行</td></tr></tbody></table> <br> <hr> <h3 id="afterbatchrevertvoucher函数"><a href="#afterbatchrevertvoucher函数" class="header-anchor">#</a> <code>afterBatchRevertVoucher</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">afterBatchRevertVoucher</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> jlId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>在凭证要还原并且所有系统默认的SQL语句生成的时候触发。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>jlId</td> <td><code>long</code></td> <td>要还原的凭证的ID列表</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>返回的SQL语句需要在系统生成的SQL语句执行后执行</td></tr></tbody></table> <br> <br> <h2 id="prqallocate"><a href="#prqallocate" class="header-anchor">#</a> PrqAllocate</h2> <h3 id="目的-16"><a href="#目的-16" class="header-anchor">#</a> 目的</h3> <p>在处理生成MRP单据时与aiM18进行交互。</p> <br> <h3 id="supply-demand函数"><a href="#supply-demand函数" class="header-anchor">#</a> <code>supply_demand</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">void</span> <span class="token function">supply_demand</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> etdList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> etaList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> stkList<span class="token punctuation">,</span> <span class="token class-name">SqlTable</span> etd_supply_List<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>为MRP生成单据中的特殊情况分配需求和供应数量。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>etdList</td> <td><code>SqlTable</code></td> <td>步骤2中需求列表</td></tr> <tr><td>etaList</td> <td><code>SqlTable</code></td> <td>步骤2中供应列表</td></tr> <tr><td>stkList</td> <td><code>SqlTable</code></td> <td>库存列表</td></tr> <tr><td>etd_supply_List</td> <td><code>SqlTable</code></td> <td>按[可用量配置]的分配结果。</td></tr></tbody></table> <br> <br> <h2 id="loadlocktranhelper"><a href="#loadlocktranhelper" class="header-anchor">#</a> LoadLockTranHelper</h2> <h3 id="目的-17"><a href="#目的-17" class="header-anchor">#</a> 目的</h3> <p>[锁定/解锁物料]模块与aiM18的交互。</p> <br> <h3 id="addloadlocktrancond函数"><a href="#addloadlocktrancond函数" class="header-anchor">#</a> <code>addLoadLockTranCond</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addLoadLockTranCond</span><span class="token punctuation">(</span><span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token class-name">String</span> loadType<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token keyword">module</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FormatCond</span><span class="token punctuation">&gt;</span></span> conds<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>读取相应的锁定/无锁定的物料时触发。 开发人员可以修改条件并影响搜索结果。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>loadType</td> <td><code>String</code></td> <td>标识读取物料的类型，有<code>lock</code>, <code>release</code>两种。</td></tr> <tr><td>module</td> <td><code>String</code></td> <td>读取物料的模块</td></tr> <tr><td>conds</td> <td><code>List&lt;FormatCond&gt;</code></td> <td>用户自定义的条件</td></tr></tbody></table> <h2 id="tradingsettinghelper"><a href="#tradingsettinghelper" class="header-anchor">#</a> TradingSettingHelper</h2> <h3 id="目的-18"><a href="#目的-18" class="header-anchor">#</a> 目的</h3> <p>用于扩展[贸易参数设定]设置模块。</p> <br> <h3 id="getlasttrantablename函数"><a href="#getlasttrantablename函数" class="header-anchor">#</a> <code>getLastTranTableName</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token class-name">String</span> <span class="token function">getLastTranTableName</span><span class="token punctuation">(</span><span class="token class-name">String</span> origin<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>获取“上一次交易记录”来源的类型在缓存中的表名称。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>origin</td> <td><code>String</code></td> <td>“上一次交易记录”来源的类型</td></tr></tbody></table> <p><strong>返回值</strong></p> <table><thead><tr><th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>String</code></td> <td>返回“上一次交易记录”来源的类型在缓存中的表名称</td></tr></tbody></table> <hr> <h3 id="addtradingsettingdata函数"><a href="#addtradingsettingdata函数" class="header-anchor">#</a> <code>addTradingSettingData</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">addTradingSettingData</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">SqlTable</span><span class="token punctuation">&gt;</span></span> cacheMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>为<code>TradeStaticVar.tradingSetting</code>缓存增加额外的缓存数据。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>cacheMap</td> <td><code>Map&lt;String, SqlTable&gt;</code></td> <td><code>TradeStaticVar.tradingSetting</code>缓存数据</td></tr></tbody></table> <h2 id="ecnhelper"><a href="#ecnhelper" class="header-anchor">#</a> EcnHelper</h2> <h3 id="目的-19"><a href="#目的-19" class="header-anchor">#</a> 目的</h3> <p>用于扩展[工程变更单]模块。</p> <br> <h3 id="ecnchangeprocessextradata函数"><a href="#ecnchangeprocessextradata函数" class="header-anchor">#</a> <code>ecnChangeProcessExtraData</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">ecnChangeProcessExtraData</span><span class="token punctuation">(</span><span class="token class-name">SqlEntity</span> ecnpEntity<span class="token punctuation">,</span> <span class="token keyword">int</span> ecnptRec<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> bomEntity<span class="token punctuation">,</span> <span class="token keyword">int</span> bomptRec<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于[工程变更单(工艺)]模块，对扩展增加的数据，替换到BOM变更单。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>ecnpEntity</td> <td><code>SqlEntity</code></td> <td>[工程变更单(工艺)]的实体数据</td></tr> <tr><td>ecnptRec</td> <td><code>int</code></td> <td>[工程变更单(工艺)]的行次</td></tr> <tr><td>bomEntity</td> <td><code>SqlEntity</code></td> <td>[BOM]的实体数据</td></tr> <tr><td>bomptRec</td> <td><code>int</code></td> <td>[BOM]工艺下款被变更的行次</td></tr></tbody></table> <hr> <h3 id="ecnchangematextradata函数"><a href="#ecnchangematextradata函数" class="header-anchor">#</a> <code>ecnChangeMatExtraData</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code>	<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">ecnChangeMatExtraData</span><span class="token punctuation">(</span><span class="token class-name">SqlEntity</span> ecnmEntity<span class="token punctuation">,</span> <span class="token keyword">int</span> ecnmtRec<span class="token punctuation">,</span> <span class="token class-name">SqlEntity</span> bomEntity<span class="token punctuation">,</span> <span class="token keyword">int</span> bomtRec<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于[工程变更单(物料)]模块，对扩展增加的数据，替换到BOM变更单。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>ecnmEntity</td> <td><code>SqlEntity</code></td> <td>[工程变更单(物料)]的实体数据</td></tr> <tr><td>ecnmtRec</td> <td><code>int</code></td> <td>[工程变更单(物料)]的行次</td></tr> <tr><td>bomEntity</td> <td><code>SqlEntity</code></td> <td>[BOM]的实体数据</td></tr> <tr><td>bomtRec</td> <td><code>int</code></td> <td>[BOM]物料下款被变更的行次</td></tr></tbody></table> <h2 id="depositdatahelper"><a href="#depositdatahelper" class="header-anchor">#</a> DepositDataHelper</h2> <h3 id="目的-20"><a href="#目的-20" class="header-anchor">#</a> 目的</h3> <p>用于扩展 应收订金单据 和 收取/清缴订金。</p> <br> <h3 id="appendardepositreceipt函数"><a href="#appendardepositreceipt函数" class="header-anchor">#</a> <code>appendArDepositReceipt</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendArDepositReceipt</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> 			<span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> 	 loadGroupCo<span class="token punctuation">,</span> <span class="token class-name">String</span> arapAlloType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于读取扩展的 订金收款单据/订金使用单据 的数据，例如[零售发票]里收取的订金。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>订金收款的数据</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>当前登录的用户ID</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>应收对象类别</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>应收对象ID</td></tr> <tr><td>sourceId</td> <td><code>long</code></td> <td>读取数据的单据ID</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>读取数据的截至日期</td></tr> <tr><td>orderList</td> <td><code>String</code></td> <td>读取数据的单据筛选条件（若为空，则代表读取所有单据的数据）</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>读取数据的单据类型</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>是否读取集团数据</td></tr> <tr><td>arapAlloType</td> <td><code>String</code></td> <td>应收/应付核销读取订金的类别</td></tr></tbody></table> <h3 id="例子"><a href="#例子" class="header-anchor">#</a> <strong>例子</strong></h3> <p>当读取订金收款单据时，需要包括[零售发票]收取的订金，如下扩展：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendArDepositReceipt</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span>   	<span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> 	<span class="token class-name">String</span> arapAlloType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_poscoreac_recregdeposet (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> 			<span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> sourceId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> orderList <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> moduleFrom 		<span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="appendapdepositreceipt函数"><a href="#appendapdepositreceipt函数" class="header-anchor">#</a> <code>appendApDepositReceipt</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendApDepositReceipt</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> 			<span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> 	 loadGroupCo<span class="token punctuation">,</span> <span class="token class-name">String</span> arapAlloType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于读取扩展的 订金付款单据/订金使用单据 的数据，例如[委外加工发票]里使用的订金。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>订金付款的数据</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>当前登录的用户ID</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>应付对象类别</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>应付对象ID</td></tr> <tr><td>sourceId</td> <td><code>long</code></td> <td>读取数据的单据ID</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>读取数据的截至日期</td></tr> <tr><td>orderList</td> <td><code>String</code></td> <td>读取数据的单据筛选条件（若为空，则代表读取所有单据的数据）</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>读取数据的单据类型</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>是否读取集团数据</td></tr> <tr><td>arapAlloType</td> <td><code>String</code></td> <td>应收/应付核销读取订金的类别</td></tr></tbody></table> <h3 id="例子-2"><a href="#例子-2" class="header-anchor">#</a> <strong>例子</strong></h3> <p>当读取订金付款单据时，需要扣减[委外加工发票]使用的订金，如下扩展：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendApDepositReceipt</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span> 		<span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> 	<span class="token class-name">String</span> arapAlloType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_pdcoreac_payregdeposet (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> 			<span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> sourceId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> orderList <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> moduleFrom 		<span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> depMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> depDomMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">int</span> deci <span class="token operator">=</span> <span class="token class-name">MacUtil</span><span class="token punctuation">.</span><span class="token function">getAmtDecimal</span><span class="token punctuation">(</span>beId<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> rec <span class="token operator">:</span> myTable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token class-name">String</span> sTranType <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sTranType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">long</span> sTranId <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sTranId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token class-name">String</span> refType <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;refType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">long</span> sorId <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sorId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token class-name">String</span> lot <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;lot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token class-name">String</span> key <span class="token operator">=</span> sTranType <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> sTranId <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> 					refType <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> sorId <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> lot<span class="token punctuation">;</span>

				<span class="token keyword">double</span> depoAmt <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;depoAmt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">double</span> domDepoAmt <span class="token operator">=</span> myTable<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;domDepoAmt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span>depMap<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					depoAmt <span class="token operator">=</span> <span class="token class-name">MathLib</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>depoAmt <span class="token operator">+</span> depMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> deci<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span>depDomMap<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					domDepoAmt <span class="token operator">=</span> <span class="token class-name">MathLib</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>domDepoAmt <span class="token operator">+</span> depDomMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> deci<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				depMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> depoAmt<span class="token punctuation">)</span><span class="token punctuation">;</span>
				depDomMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> domDepoAmt<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> recList <span class="token operator">=</span> <span class="token class-name">ListLib</span><span class="token punctuation">.</span><span class="token function">newList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> rec <span class="token operator">:</span> retTable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token class-name">String</span> sTranType <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sTranType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">long</span> sTranId <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sTranId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token class-name">String</span> refType <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;refType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">long</span> sorId <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;sorId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token class-name">String</span> lot <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getValueStr</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;lot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">double</span> bal <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;bal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">double</span> balAmt <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;balAmt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">double</span> balDomAmt <span class="token operator">=</span> retTable<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;balDomAmt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token class-name">String</span> key <span class="token operator">=</span> sTranType <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> sTranId <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> 					refType <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> sorId <span class="token operator">+</span> <span class="token class-name">StringLib</span><span class="token punctuation">.</span>separate <span class="token operator">+</span> lot<span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span>depMap<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					bal <span class="token operator">=</span> <span class="token class-name">MathLib</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>bal <span class="token operator">+</span> depMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> deci<span class="token punctuation">)</span><span class="token punctuation">;</span>
					balAmt <span class="token operator">=</span> <span class="token class-name">MathLib</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>balAmt <span class="token operator">-</span> depMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> deci<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span>depDomMap<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					balDomAmt <span class="token operator">=</span> <span class="token class-name">MathLib</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>balDomAmt <span class="token operator">-</span> depDomMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> deci<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				retTable<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;bal&quot;</span><span class="token punctuation">,</span> bal<span class="token punctuation">)</span><span class="token punctuation">;</span>
				retTable<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;balAmt&quot;</span><span class="token punctuation">,</span> balAmt<span class="token punctuation">)</span><span class="token punctuation">;</span>
				retTable<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>rec<span class="token punctuation">,</span> <span class="token string">&quot;balDomAmt&quot;</span><span class="token punctuation">,</span> balDomAmt<span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span>balAmt <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					recList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>rec<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span>recList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				retTable<span class="token punctuation">.</span><span class="token function">deleteRows</span><span class="token punctuation">(</span>recList<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="appendarosdeposit函数"><a href="#appendarosdeposit函数" class="header-anchor">#</a> <code>appendArOsDeposit</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendArOsDeposit</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> 	tranType<span class="token punctuation">,</span> <span class="token keyword">long</span> tranId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于读取扩展的 应收订金单据 的数据，例如[委外代销订单]里的订金。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>订金数据</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>应收对象ID</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>当前登录的用户ID</td></tr> <tr><td>tranType</td> <td><code>String</code></td> <td>读取数据的单据类型</td></tr> <tr><td>tranId</td> <td><code>long</code></td> <td>读取数据的单据ID</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>读取数据的截至日期</td></tr> <tr><td>orderList</td> <td><code>String</code></td> <td>读取数据的单据筛选条件（若为空，则代表读取所有单据的数据）</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>是否读取集团数据</td></tr> <tr><td>loadAll</td> <td><code>boolean</code></td> <td>是否读取没有结余的单据</td></tr></tbody></table> <h3 id="例子-3"><a href="#例子-3" class="header-anchor">#</a> <strong>例子</strong></h3> <p>当读取 应收订金单据 时，需要增加[委外代销订单]的订金，如下扩展：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendArOsDeposit</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> 			tranType<span class="token punctuation">,</span> <span class="token keyword">long</span> tranId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_consigncoamt2 (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> <span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tranType <span class="token operator">+</span> 	 <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> tranId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> orderList <span class="token operator">+</span> <span class="token string">&quot;',&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> 		<span class="token punctuation">(</span>loadAll <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

	<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="appendaposdeposit函数"><a href="#appendaposdeposit函数" class="header-anchor">#</a> <code>appendApOsDeposit</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendApOsDeposit</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> 	tranType<span class="token punctuation">,</span> <span class="token keyword">long</span> tranId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于读取扩展的 应付订金单据 的数据，例如[委外加工订单]里的订金。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>订金数据</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>当前登录的用户ID</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>应付对象ID</td></tr> <tr><td>tranType</td> <td><code>String</code></td> <td>读取数据的单据类型</td></tr> <tr><td>tranId</td> <td><code>long</code></td> <td>读取数据的单据ID</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>读取数据的截至日期</td></tr> <tr><td>orderList</td> <td><code>String</code></td> <td>读取数据的单据筛选条件（若为空，则代表读取所有单据的数据）</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>是否读取集团数据</td></tr> <tr><td>loadAll</td> <td><code>boolean</code></td> <td>是否读取没有结余的订单</td></tr></tbody></table> <h3 id="例子-4"><a href="#例子-4" class="header-anchor">#</a> <strong>例子</strong></h3> <p>当读取 应付订金单据 时，需要增加[委外加工订单]的订金，如下扩展：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendApOsDeposit</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> 			tranType<span class="token punctuation">,</span> <span class="token keyword">long</span> tranId<span class="token punctuation">,</span> <span class="token class-name">String</span> tDate<span class="token punctuation">,</span> <span class="token class-name">String</span> orderList<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadAll<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_pdcoreac_amt (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> <span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tranType <span class="token operator">+</span> 	<span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> tranId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> orderList <span class="token operator">+</span> <span class="token string">&quot;',&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> 		<span class="token punctuation">(</span>loadAll <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

	<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="financedatahelper"><a href="#financedatahelper" class="header-anchor">#</a> FinanceDataHelper</h2> <h3 id="目的-21"><a href="#目的-21" class="header-anchor">#</a> 目的</h3> <p>用于扩展应收发票。</p> <br> <h3 id="updatearinvoiceremain函数"><a href="#updatearinvoiceremain函数" class="header-anchor">#</a> <code>updateArInvoiceRemain</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">updateArInvoiceRemain</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token keyword">long</span> sTranId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiId<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> tDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于读取扩展的 应收发票 的结余金额，例如[XXXX应收发票]。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>发票结余金额的数据</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>当前登录的用户ID</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>应收对象类别</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>应收对象ID</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>读取数据的单据类型</td></tr> <tr><td>sourceId</td> <td><code>long</code></td> <td>读取数据的单据ID</td></tr> <tr><td>sTranId</td> <td><code>long</code></td> <td>应收发票的单据ID</td></tr> <tr><td>multiId</td> <td><code>long</code></td> <td>批量收款单ID</td></tr> <tr><td>sTranType</td> <td><code>String</code></td> <td>应收发票的单据类型</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>读取数据的截至日期</td></tr></tbody></table> <h3 id="例子-5"><a href="#例子-5" class="header-anchor">#</a> <strong>例子</strong></h3> <p>当读取[XXXX应收发票]的应收结余金额时，如下扩展：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">updateArInvoiceRemain</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token keyword">long</span> sTranId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiId<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> tDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_xxxx_arRemain (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> 			<span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> moduleFrom <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> sourceId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> sTranType <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> sTranId <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> 		<span class="token operator">+</span> multiRecId <span class="token operator">+</span> <span class="token string">&quot;,'&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;')&quot;</span><span class="token punctuation">;</span>	

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="updateapinvoiceremain函数"><a href="#updateapinvoiceremain函数" class="header-anchor">#</a> <code>updateApInvoiceRemain</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">updateApInvoiceRemain</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token keyword">long</span> sTranId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiId<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> tDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于读取扩展的 应付发票 的结余金额，例如[XXXX应付发票]。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>发票结余金额的数据</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>当前登录的用户ID</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>应付对象类别</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>应付对象ID</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>读取数据的单据类型</td></tr> <tr><td>sourceId</td> <td><code>long</code></td> <td>读取数据的单据ID</td></tr> <tr><td>sTranId</td> <td><code>long</code></td> <td>应付发票的单据ID</td></tr> <tr><td>multiId</td> <td><code>long</code></td> <td>批量付款单ID</td></tr> <tr><td>sTranType</td> <td><code>String</code></td> <td>应付发票的单据类型</td></tr> <tr><td>tDate</td> <td><code>String</code></td> <td>读取数据的截至日期</td></tr></tbody></table> <h3 id="例子-6"><a href="#例子-6" class="header-anchor">#</a> <strong>例子</strong></h3> <p>当读取[XXXX应付发票]的应付结余金额时，如下扩展：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">updateApInvoiceRemain</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">long</span> sourceId<span class="token punctuation">,</span> <span class="token keyword">long</span> sTranId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiId<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> tDate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_xxxx_apRemain (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> 			<span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> moduleFrom <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> sourceId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> sTranType <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> sTranId <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> 		<span class="token operator">+</span> multiRecId <span class="token operator">+</span> <span class="token string">&quot;,'&quot;</span> <span class="token operator">+</span> tDate <span class="token operator">+</span> <span class="token string">&quot;')&quot;</span><span class="token punctuation">;</span>	

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="appendarosinvoice函数"><a href="#appendarosinvoice函数" class="header-anchor">#</a> <code>appendArOsInvoice</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendArOsInvoice</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 		<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> recregId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiRecId<span class="token punctuation">,</span> <span class="token class-name">String</span> sDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> 	 eDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sStaff<span class="token punctuation">,</span> <span class="token class-name">String</span> eStaff<span class="token punctuation">,</span> <span class="token keyword">int</span> loadCrNote<span class="token punctuation">,</span> <span class="token class-name">String</span> invList<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于读取扩展的 应收发票 的结余数据，例如[XXXX应收发票]。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>发票结余数据</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>当前登录的用户ID</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>应收对象类别</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>应收对象ID</td></tr> <tr><td>recregId</td> <td><code>long</code></td> <td>读取发票的单据ID</td></tr> <tr><td>multiRecId</td> <td><code>long</code></td> <td>批量收款单ID</td></tr> <tr><td>sDate</td> <td><code>String</code></td> <td>读取数据的开始日期</td></tr> <tr><td>eDate</td> <td><code>String</code></td> <td>读取数据的截至日期</td></tr> <tr><td>sDDate</td> <td><code>String</code></td> <td>读取数据的开始到期日</td></tr> <tr><td>eDDate</td> <td><code>String</code></td> <td>读取数据的截至到期日</td></tr> <tr><td>sStaff</td> <td><code>String</code></td> <td>读取数据的开始职员编号</td></tr> <tr><td>eStaff</td> <td><code>String</code></td> <td>读取数据的截至职员编号</td></tr> <tr><td>loadCrNote</td> <td><code>int</code></td> <td>读取没有结余的单据（1：是；0：否）</td></tr> <tr><td>invList</td> <td><code>String</code></td> <td>应收发票的筛选条件（若为空，则代表读取所有单据的数据）</td></tr> <tr><td>sTranType</td> <td><code>String</code></td> <td>应收发票类型筛选条件</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>读取发票的单据类型</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>读取集团数据</td></tr></tbody></table> <h3 id="例子-7"><a href="#例子-7" class="header-anchor">#</a> <strong>例子</strong></h3> <p>当读取[XXXX应收发票]的应收结余数据时，如下扩展：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendArOsInvoice</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> recregId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiRecId<span class="token punctuation">,</span> <span class="token class-name">String</span> sDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDDate<span class="token punctuation">,</span> 		<span class="token class-name">String</span> sStaff<span class="token punctuation">,</span> <span class="token class-name">String</span> eStaff<span class="token punctuation">,</span> <span class="token keyword">int</span> loadCrNote<span class="token punctuation">,</span> <span class="token class-name">String</span> invList<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> <span class="token class-name">String</span> 			moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_xxxx_napbal (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> 			<span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> payRegId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> multiPayId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> sDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> 			sDDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eDDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> sStaff <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eStaff <span class="token operator">+</span> <span class="token string">&quot;',&quot;</span> <span class="token operator">+</span> loadDbNote <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> 		invList <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> sTranType <span class="token operator">+</span> <span class="token string">&quot;', '&quot;</span> <span class="token operator">+</span> moduleFrom <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="appendaposinvoice函数"><a href="#appendaposinvoice函数" class="header-anchor">#</a> <code>appendApOsInvoice</code>函数</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">appendApOsInvoice</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> 		<span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> <span class="token keyword">long</span> payRegId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiPayId<span class="token punctuation">,</span> <span class="token class-name">String</span> sDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> 	eDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sStaff<span class="token punctuation">,</span> <span class="token class-name">String</span> eStaff<span class="token punctuation">,</span> <span class="token keyword">int</span> loadDbNote<span class="token punctuation">,</span> <span class="token class-name">String</span> invList<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> 		<span class="token class-name">String</span> moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>说明</strong></p> <p>用于读取扩展的 应付发票 的结余数据，例如[XXXX应付发票]。</p> <p><strong>参数</strong></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>retTable</td> <td><code>SqlTable</code></td> <td>发票结余数据</td></tr> <tr><td>beId</td> <td><code>long</code></td> <td>企业法人ID</td></tr> <tr><td>uId</td> <td><code>long</code></td> <td>当前登录的用户ID</td></tr> <tr><td>AIType</td> <td><code>String</code></td> <td>应付对象类别</td></tr> <tr><td>AIId</td> <td><code>long</code></td> <td>应付对象ID</td></tr> <tr><td>payRegId</td> <td><code>long</code></td> <td>读取发票的单据ID</td></tr> <tr><td>multiPayId</td> <td><code>long</code></td> <td>批量付款单ID</td></tr> <tr><td>sDate</td> <td><code>String</code></td> <td>读取数据的开始日期</td></tr> <tr><td>eDate</td> <td><code>String</code></td> <td>读取数据的截至日期</td></tr> <tr><td>sDDate</td> <td><code>String</code></td> <td>读取数据的开始到期日</td></tr> <tr><td>eDDate</td> <td><code>String</code></td> <td>读取数据的截至到期日</td></tr> <tr><td>sStaff</td> <td><code>String</code></td> <td>读取数据的开始职员编号</td></tr> <tr><td>eStaff</td> <td><code>String</code></td> <td>读取数据的截至职员编号</td></tr> <tr><td>loadDbNote</td> <td><code>int</code></td> <td>读取没有结余的单据（1：是；0：否）</td></tr> <tr><td>invList</td> <td><code>String</code></td> <td>应付发票的筛选条件（若为空，则代表读取所有单据的数据）</td></tr> <tr><td>sTranType</td> <td><code>String</code></td> <td>应付发票类型筛选条件</td></tr> <tr><td>moduleFrom</td> <td><code>String</code></td> <td>读取发票的单据类型</td></tr> <tr><td>loadGroupCo</td> <td><code>boolean</code></td> <td>读取集团数据</td></tr></tbody></table> <h3 id="例子-8"><a href="#例子-8" class="header-anchor">#</a> <strong>例子</strong></h3> <p>当读取[XXXX应付发票]的应付结余数据时，如下扩展：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">appendApOsInvoice</span><span class="token punctuation">(</span><span class="token class-name">SqlTable</span> retTable<span class="token punctuation">,</span> <span class="token keyword">long</span> beId<span class="token punctuation">,</span> <span class="token keyword">long</span> uId<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name">AIType</span><span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token class-name">AIId</span><span class="token punctuation">,</span> 	<span class="token keyword">long</span> payRegId<span class="token punctuation">,</span> <span class="token keyword">long</span> multiPayId<span class="token punctuation">,</span> <span class="token class-name">String</span> sDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDate<span class="token punctuation">,</span> <span class="token class-name">String</span> sDDate<span class="token punctuation">,</span> <span class="token class-name">String</span> eDDate<span class="token punctuation">,</span> 		<span class="token class-name">String</span> sStaff<span class="token punctuation">,</span> <span class="token class-name">String</span> eStaff<span class="token punctuation">,</span> <span class="token keyword">int</span> loadDbNote<span class="token punctuation">,</span> <span class="token class-name">String</span> invList<span class="token punctuation">,</span> <span class="token class-name">String</span> sTranType<span class="token punctuation">,</span> <span class="token class-name">String</span> 			moduleFrom<span class="token punctuation">,</span> <span class="token keyword">boolean</span> loadGroupCo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;CALL l_prodac_napbal (&quot;</span> <span class="token operator">+</span> beId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> uId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> <span class="token class-name">AIType</span> <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> 			<span class="token class-name">AIId</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> payRegId <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> multiPayId <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> sDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> 			sDDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eDDate <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> sStaff <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> eStaff <span class="token operator">+</span> <span class="token string">&quot;',&quot;</span> <span class="token operator">+</span> loadDbNote <span class="token operator">+</span> <span class="token string">&quot;, '&quot;</span> <span class="token operator">+</span> 		invList <span class="token operator">+</span> <span class="token string">&quot;','&quot;</span> <span class="token operator">+</span> sTranType <span class="token operator">+</span> <span class="token string">&quot;', '&quot;</span> <span class="token operator">+</span> moduleFrom <span class="token operator">+</span> <span class="token string">&quot;', &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>loadGroupCo <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>

		<span class="token class-name">SqlTable</span> myTable <span class="token operator">=</span> <span class="token class-name">CawDs</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>myTable <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> myTable<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token class-name">SqlTableLib</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>retTable<span class="token punctuation">,</span> myTable<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2025/05/29, 08:57:55</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/5e69e0/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">手机App设置</div></a> <a href="/pages/d5dca4/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">ERP XML 配置应用</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/5e69e0/" class="prev">手机App设置</a></span> <span class="next"><a href="/pages/d5dca4/">ERP XML 配置应用</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:m18ce02@multiable.com" title="Send Mail" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/m18ce01" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://www.multiable.com/" title="Home Page" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 1990-2025
    <span><a href="https://www.multiable.com/">Multiable</a> | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c0adcb3b.js" defer></script><script src="/assets/js/2.60d4b592.js" defer></script><script src="/assets/js/27.b23fd5d3.js" defer></script>
  </body>
</html>
