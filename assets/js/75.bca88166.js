(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{429:function(t,e,s){"use strict";s.r(e);var a=s(14),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[e("code",[t._v("Version: 1.2 | Release Date: 07/02/2024")])]),t._v(" "),e("h2",{attrs:{id:"introduction"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),e("p",[t._v("In any modern transaction system, modifying data is always unavoidable.")]),t._v(" "),e("p",[t._v("It is essential to enhance user experience by providing a flexible editing environment.")]),t._v(" "),e("h2",{attrs:{id:"aim"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#aim"}},[t._v("#")]),t._v(" Aim")]),t._v(" "),e("p",[t._v("After reading this chapter, you should be able to:")]),t._v(" "),e("ol",[e("li",[t._v("Read module records")]),t._v(" "),e("li",[t._v("Update module records")])]),t._v(" "),e("h2",{attrs:{id:"scenario"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scenario"}},[t._v("#")]),t._v(" Scenario")]),t._v(" "),e("p",[t._v("Chris has done well with his ABC Fruit Company Online Shop.")]),t._v(" "),e("p",[t._v("He wants to improve user experience when customers need to change their order.")]),t._v(" "),e("p",[t._v("Customers have to call Chris and request for an order cancellation so that they can correct order content.")]),t._v(" "),e("p",[t._v("Chris would like to implement editing feature in the online shop.")]),t._v(" "),e("p",[t._v("Chris designs the layout as below, Users can switch by clicking on different "),e("code",[t._v("order code")]),t._v(" to view the detailed information of Sales Order.")]),t._v(" "),e("p",[e("img",{attrs:{src:"/assets/wst18.png",alt:"wst18"}})]),t._v(" "),e("p",[t._v("With past experience, Chris is able to list the "),e("code",[t._v("saved order list")]),t._v(" using "),e("RouterLink",{attrs:{to:"/pages/1589cf/"}},[t._v("Search Services")]),t._v(".")],1),t._v(" "),e("p",[t._v("But how to display the product information of the order?")]),t._v(" "),e("p",[t._v("In order to achieve this goal, we need to call the "),e("RouterLink",{attrs:{to:"/pages/c79a4a/#read-entity"}},[t._v("Read Entity Services")]),t._v(".")],1),t._v(" "),e("h2",{attrs:{id:"read-module-record"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#read-module-record"}},[t._v("#")]),t._v(" Read module record")]),t._v(" "),e("p",[e("strong",[t._v("HTTP Request")])]),t._v(" "),e("p",[e("code",[t._v("GET http://[server]/jsf/rfws/entity/read/[module]?menuCode=[menuCode]&id=[id]")])]),t._v(" "),e("p",[e("strong",[t._v("Parameters")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Name")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("authorization")]),t._v(" "),e("td",[e("code",[t._v("String")]),t._v("("),e("em",[t._v("Header")]),t._v(")")]),t._v(" "),e("td",[e("strong",[t._v("Required.")]),t._v(" Access Token "),e("RouterLink",{attrs:{to:"/pages/b24673/"}},[t._v("obtained via OAuth")])],1)]),t._v(" "),e("tr",[e("td",[t._v("client_id")]),t._v(" "),e("td",[e("code",[t._v("String")]),t._v("("),e("em",[t._v("Header")]),t._v(")")]),t._v(" "),e("td",[e("strong",[t._v("Required.")]),t._v(" Client ID in aiM18 "),e("RouterLink",{attrs:{to:"/pages/b24673/"}},[t._v("OAuth Applications")])],1)]),t._v(" "),e("tr",[e("td",[t._v("module")]),t._v(" "),e("td",[e("code",[t._v("String")]),t._v("("),e("em",[t._v("Path")]),t._v(")")]),t._v(" "),e("td",[t._v("**Required. **Module type, such as 'employee', can be found in data dictionary")])]),t._v(" "),e("tr",[e("td",[t._v("menuCode")]),t._v(" "),e("td",[e("code",[t._v("String")]),t._v("("),e("em",[t._v("Query")]),t._v(")")]),t._v(" "),e("td",[e("strong",[t._v("Required.")]),t._v(" Menu code, such as 'employee', can be found in data dictionary")])]),t._v(" "),e("tr",[e("td",[t._v("id")]),t._v(" "),e("td",[e("code",[t._v("long")]),t._v("("),e("em",[t._v("Query")]),t._v(")")]),t._v(" "),e("td",[e("strong",[t._v("Required")]),t._v(". ID of the entity.")])]),t._v(" "),e("tr",[e("td",[t._v("param")]),t._v(" "),e("td",[e("code",[t._v("json String")]),t._v("("),e("em",[t._v("Query")]),t._v(")")]),t._v(" "),e("td",[t._v("Additional parameters for special actions")])]),t._v(" "),e("tr",[e("td",[t._v("iRev")]),t._v(" "),e("td",[e("code",[t._v("int")]),t._v("("),e("em",[t._v("Query")]),t._v(")")]),t._v(" "),e("td",[t._v("If you want to read the old version of the entity, please set this value. If you want to read a delete entity, please set the "),e("code",[t._v("id")]),t._v(" and "),e("code",[t._v("iRev")]),t._v(" of the delete entity.")])])])]),t._v(" "),e("p",[t._v("This service has three required parameters, which are "),e("code",[t._v("module")]),t._v(", "),e("code",[t._v("menuCode")]),t._v(", and "),e("code",[t._v("id")]),t._v(".")]),t._v(" "),e("p",[t._v("For "),e("code",[t._v("id")]),t._v(" parameter, Please refer to "),e("RouterLink",{attrs:{to:"/pages/c79a4a/#get-id-by-code-web-service"}},[t._v("Get Id by Code Web Service")]),t._v(" or "),e("RouterLink",{attrs:{to:"/pages/1589cf/"}},[t._v("Search Data")]),t._v(".")],1),t._v(" "),e("p",[t._v("In this scenario, the "),e("code",[t._v("id")]),t._v(" should be included in the response of the search which used to display the sales order list.")]),t._v(" "),e("p",[e("img",{attrs:{src:"/assets/wst19.png",alt:"wst19"}})]),t._v(" "),e("p",[e("strong",[t._v("Sample request to get info of Sales Order where Id = 2")])]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v("\nhttp"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("server"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jsf"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("rfws"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("entity"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("read"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("oldso"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("menuCode"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("oldso"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n")])])]),e("p",[e("strong",[t._v("Sample Response")])]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mainso"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v('"'),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"size"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"values"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"iRev"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SO002"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ...\n\t\t   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sot"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v('"'),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"size"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"values"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"itemNo"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"     1, "')]),t._v("proId"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('": 3, "')]),t._v("bDesc"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v("Peach"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('", "')]),t._v('qty"'),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ...\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"itemNo"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"     2, "')]),t._v("proId"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('": 1, "')]),t._v("bDesc"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v("Apple"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('", "')]),t._v('qty"'),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("21.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ...\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"itemNo"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"     3, "')]),t._v("proId"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('": 4, "')]),t._v("bDesc"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v("Orange"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('", "')]),t._v('qty"'),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ...\n\t\t\t"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"itemNo"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"     4, "')]),t._v("proId"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('": 1, "')]),t._v("bDesc"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),t._v("Apple"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('", "')]),t._v('qty"'),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5.0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ...\n\t\t   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n       "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Reading existing orders is the not the end. We need to update orders when customers changed content.")]),t._v(" "),e("p",[t._v("We do this by calling the "),e("RouterLink",{attrs:{to:"/pages/c79a4a/#save-entity"}},[t._v("Save Entity Service")]),t._v(".")],1),t._v(" "),e("h2",{attrs:{id:"update-module-record"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#update-module-record"}},[t._v("#")]),t._v(" Update module record")]),t._v(" "),e("p",[e("code",[t._v("Save Entity Services")]),t._v(" is capable of performing two functions, firstly creating a module record and secondly updating an already existing module record.")]),t._v(" "),e("p",[t._v("Regarding the creation of module record, we have already had a complete example earlier, please refer to "),e("RouterLink",{attrs:{to:"/pages/2680cf/"}},[t._v("Create Module Data")]),t._v(".")],1),t._v(" "),e("p",[t._v("So how does the system determine if the call is to add or modify a module record?")]),t._v(" "),e("p",[t._v("The answer is "),e("code",[t._v("id")]),t._v(".")]),t._v(" "),e("p",[t._v("The system will check if the request contains "),e("code",[t._v("id")]),t._v(" information and the "),e("code",[t._v("id")]),t._v(" information corresponds to the record in the database.")]),t._v(" "),e("h2",{attrs:{id:"best-practice"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#best-practice"}},[t._v("#")]),t._v(" Best Practice")]),t._v(" "),e("p",[t._v("Every time you want to modify an already existing module record, you read it first, then modify it directly in SqlEntity, and then call the "),e("RouterLink",{attrs:{to:"/pages/c79a4a/#save-entity"}},[t._v("Save Entity service")]),t._v(" to save it.")],1),t._v(" "),e("h2",{attrs:{id:"faq"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[t._v("#")]),t._v(" FAQ")]),t._v(" "),e("p",[t._v("1.Is there an alternative method to determine whether this save action is creating a new record or modifying an existing one?")]),t._v(" "),e("p",[t._v("For APIs related to ERP, the answer is affirmative.")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("code")]),t._v(" is another crucial field in aiM18 records. Users who designate this field as unique ensure that the "),e("code",[t._v("code")]),t._v(" will not be duplicated.")]),t._v(" "),e("p",[t._v("Storing a record with an identical "),e("code",[t._v("code")]),t._v(" is considered as an update.")])])}),[],!1,null,null,null);e.default=r.exports}}]);